<!DOCTYPE HTML>
<html lang="en">
<head>
	<meta charset="utf-8"/>
	<!-- Created by Anthony Fucci (anthonyfucci.com) -->
	<title>winmine.html</title>
	<meta name="version" content="2021-10-09 22:00">
	<meta name="viewport" content="width=device-width, initial-scale=1"/>
	<meta name="description" content="winmine.html is a single-file HTML clone of the iconic Minesweeper game winmine.exe"/>
	<style> html, body { overflow: hidden; height: 100vh; width: 100vw; margin: 0; cursor: default; }  .file-menu-frame { border-bottom: 1px solid rgba(240,240,240); z-index: 200; position: sticky;  } .file-menu { height: 18px; width: 100vw; font-size: 0;  border-bottom: 1px solid rgba(232,233,234); background-color: rgba(245,246,247); }  .game-file-menu-frame { width: 44px; display: inline-block; } .help-file-menu-frame { width: 38px; display: inline-block; } .extra-menu-frame { width: 40px; color: #444444; display: none; } .game-file-menu-frame:hover .menu-game-button, .help-file-menu-frame:hover .menu-help-button, .extra-menu-frame:hover .menu-extra-button { background-color: rgba(209, 226, 242); border: 1px solid rgba(161,197,233); } .menu-game-button, .menu-help-button, .menu-extra-button { font-family: 'Segoe UI'; font-size: 9pt; width: 100%; text-align: center; border: 1px solid transparent; } .menu-game-button:hover + div, .menu-game-container:hover, .menu-help-button:hover + div, .menu-help-container:hover, .menu-extra-button:hover + div, .menu-extra-container:hover { display: inline-block !important; background-color: rgba(245,246,247); position: absolute; } .menu-container-top { z-index: 1; } .menu-game-container, .menu-help-container, .menu-extra-container { display: none; width: 130px;  background-color: rgba(245,246,247); border: 1px solid rgba(204,204,204); } .menu-help-container { max-width: calc(100vw - 46px); width: 140px; } .menu-extra-container { max-width: calc(100vw - 84px); } .menu-item[data-name=New] > div { float: right; padding-right: 4px; } .menu-item { font-family: 'Segoe UI'; font-size: 9pt; padding: 1px 8px 1px 16px; color: #000000; } .menu-item:hover { background-color: rgba(209, 226, 242); } .menu-item-separator { height: 1px; background-color: #cccccc; margin: 0px 3px 0px 3px; } .menu-item-disabled { color: #666666; } .menu-mark { background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' preserveAspectRatio='xMidYMid meet' width='7' height='7'%3E%3Cstyle%3E%3C!%5BCDATA%5B.B%7Bfill-opacity:0%7D%5D%5D%3E%3C/style%3E%3Cdefs%3E%3Cpath d='M1 4h3v2H1V4z' id='A'/%3E%3Cpath d='M0 3h2v2H0V3z' id='B'/%3E%3Cpath d='M2 4h1v3H2V4z' id='C'/%3E%3Cpath d='M0 2h1v3H0V2z' id='D'/%3E%3Cpath d='M3 3h2v2H3V3z' id='E'/%3E%3Cpath d='M4 2h2v2H4V2z' id='F'/%3E%3Cpath d='M5 1h2v2H5V1z' id='G'/%3E%3Cpath d='M6 0h1v3H6V0z' id='H'/%3E%3C/defs%3E%3Cuse xlink:href='%23A'/%3E%3Cuse xlink:href='%23A' class='B'/%3E%3Cuse xlink:href='%23B'/%3E%3Cuse xlink:href='%23B' class='B'/%3E%3Cuse xlink:href='%23C'/%3E%3Cuse xlink:href='%23C' class='B'/%3E%3Cuse xlink:href='%23D'/%3E%3Cuse xlink:href='%23D' class='B'/%3E%3Cuse xlink:href='%23E'/%3E%3Cuse xlink:href='%23E' class='B'/%3E%3Cuse xlink:href='%23F'/%3E%3Cuse xlink:href='%23F' class='B'/%3E%3Cuse xlink:href='%23G'/%3E%3Cuse xlink:href='%23G' class='B'/%3E%3Cuse xlink:href='%23H'/%3E%3Cuse xlink:href='%23H' class='B'/%3E%3C/svg%3E"); background-repeat: no-repeat; background-position: 6px 50%; } .file-menu { white-space: nowrap; } .game-file-menu-frame, .help-file-menu-frame, .extra-menu-frame, .feature-content-frame { white-space: normal; } .extra-replay-menu-frame, .replay-menu-frame, .is-prev-game-menu-frame, .menu-opener-frame { position: fixed; right: 0px; display: none; font-size: 0; height: 16px; white-space: nowrap; } .replay-menu-frame-enabled, .is-prev-game-menu-frame-enabled, .menu-opener-frame-enabled { display: inline-block; } .replay-menu-container, .is-prev-game-menu-container { } .replay-menu-item, .is-prev-game-menu-item, .menu-opener-item { display: inline-block; font-family: 'Segoe UI'; font-size: 9pt; padding-right: 2px; padding-bottom: 1px; padding-left: 2px; padding-top: 1px; } .replay-menu-item { font-family: 'Arial'; vertical-align: top; min-height: 16px; } .replay-menu-item:hover, .is-prev-game-menu-item:hover { background-color: rgba(209, 226, 242); } .replay-menu-item-enabled { background-color: rgba(209, 226, 242); } .replay-menu-item[data-replay-menu="stats-button"] { padding-right: 4px; padding-left: 2px; } .replay-menu-item[data-replay-menu="play-pause-button"] { padding-left: 4px; padding-right: 3px; } .replay-menu-item[data-replay-menu="play-pause-button"] span:first-child { font-weight: bold; } .color-red { color: rgba(255, 0, 0, .8); } .replay-mode-html-body-overlay { display: none; position: absolute; width: calc(100vw - 4px); height: calc(100vh - 4px); border: 2px solid rgba(255, 0, 0, 0.60); z-index: 300; pointer-events: none; } .replay-mode-html-body-overlay-enabled { display: block; } .replay-mode-game-container-overlay { position: absolute; width: 100vw; height: calc(100vh - 20px); top: 20px; z-index: 100; } .menu-opener-item { font-family: 'Arial'; padding-right: 6px; padding-top: 1px; } .menu-opener-frame:hover + div, .replay-menu-frame:hover { display: inline-block; background-color: rgba(245,246,247); position: absolute; }  .game-window-frame { border-top: 3px solid rgba(255,255,255); border-left: 3px solid rgba(255,255,255); } .window-frame-top { border-top: 6px solid rgba(192,192,192); border-left: 6px solid rgba(192,192,192); border-right: 5px solid rgba(192,192,192); border-bottom: 3px solid rgba(192,192,192); } .window-frame-bottom { border-top: 3px solid rgba(192,192,192); border-left: 6px solid rgba(192,192,192); border-right: 5px solid rgba(192,192,192); border-bottom: 5px solid rgba(192,192,192); }  .scoreboard-frame { border-top: 2px solid rgba(128,128,128); border-left: 2px solid rgba(128,128,128); border-right: 2px solid rgba(255,255,255); border-bottom: 2px solid rgba(255,255,255); } .scoreboard { height: 33px; width: calc(100vw - 18px);  background-color: rgba(192,192,192); }  .cell-container-frame { border-top: 3px solid rgba(128,128,128); border-left: 3px solid rgba(128,128,128); border-right: 3px solid rgba(255,255,255); border-bottom: 3px solid rgba(255,255,255); } .cell-container { height: calc(100vh - 83px);  width: calc(100vw - 20px);  background-color: rgba(192, 192, 192); display: grid; grid-auto-flow: row; gap: 0px; } .cell-container > div { background-repeat: no-repeat; background-position: calc(50% - 1px) calc(50% - 1px); background-size: 10px; border-top: 2px solid rgba(255,255,255); border-left: 2px solid rgba(255,255,255); border-right: 2px solid rgba(128,128,128); border-bottom: 2px solid rgba(128,128,128); }  .active, .clear, .notmine { padding: 1px 2px 2px 1px; border-top: 1px solid rgba(128,128,128) !important; border-left: 1px solid rgba(128,128,128) !important; border-right: none !important; border-bottom: none !important; } .mine { background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' preserveAspectRatio='xMidYMid meet' width='13' height='13'%3E%3Cstyle%3E%3C!%5BCDATA%5B.B%7Bfill-opacity:0%7D%5D%5D%3E%3C/style%3E%3Cdefs%3E%3Cpath d='M6 0h1v13H6V0z' id='A'/%3E%3Cpath d='M0 6h13v1H0V6z' id='B'/%3E%3Cpath d='M10 2h1v1h-1V2z' id='C'/%3E%3Cpath d='M10 10h1v1h-1v-1z' id='D'/%3E%3Cpath d='M9 3h1v3H9V3z' id='E'/%3E%3Cpath d='M9 4h2v2H9V4z' id='F'/%3E%3Cpath d='M7 2h2v4H7V2z' id='G'/%3E%3Cpath d='M4 2h2v4H4V2z' id='H'/%3E%3Cpath d='M4 7h2v4H4V7z' id='I'/%3E%3Cpath d='M7 7h2v4H7V7z' id='J'/%3E%3Cpath d='M9 7h1v3H9V7z' id='K'/%3E%3Cpath d='M3 3h1v3H3V3z' id='L'/%3E%3Cpath d='M3 7h7v3H3V7z' id='M'/%3E%3Cpath d='M10 7h1v2h-1V7z' id='N'/%3E%3Cpath d='M2 4h2v5H2V4z' id='O'/%3E%3Cpath d='M2 7h1v2H2V7z' id='P'/%3E%3Cpath d='M4 4h2v2H4V4z' id='Q'/%3E%3Cpath d='M2 6h9v3H2V6z' id='R'/%3E%3Cpath d='M6 3h4v7H6V3z' id='S'/%3E%3Cpath d='M3 3h7v1H3V3z' id='T'/%3E%3Cpath d='M4 2h5v1H4V2z' id='U'/%3E%3Cpath d='M4 10h5v1H4v-1z' id='V'/%3E%3Cpath d='M10 4h1v5h-1V4z' id='W'/%3E%3Cpath d='M2 2h1v1H2V2z' id='X'/%3E%3Cpath d='M2 10h1v1H2v-1z' id='Y'/%3E%3C/defs%3E%3Cuse xlink:href='%23A'/%3E%3Cuse xlink:href='%23A' class='B'/%3E%3Cuse xlink:href='%23B'/%3E%3Cuse xlink:href='%23B' class='B'/%3E%3Cuse xlink:href='%23C'/%3E%3Cuse xlink:href='%23C' class='B'/%3E%3Cuse xlink:href='%23D'/%3E%3Cuse xlink:href='%23D' class='B'/%3E%3Cuse xlink:href='%23E'/%3E%3Cuse xlink:href='%23E' class='B'/%3E%3Cuse xlink:href='%23F'/%3E%3Cuse xlink:href='%23F' class='B'/%3E%3Cuse xlink:href='%23G'/%3E%3Cuse xlink:href='%23G' class='B'/%3E%3Cuse xlink:href='%23H'/%3E%3Cuse xlink:href='%23H' class='B'/%3E%3Cuse xlink:href='%23I'/%3E%3Cuse xlink:href='%23I' class='B'/%3E%3Cuse xlink:href='%23J'/%3E%3Cuse xlink:href='%23J' class='B'/%3E%3Cuse xlink:href='%23K'/%3E%3Cuse xlink:href='%23K' class='B'/%3E%3Cuse xlink:href='%23L'/%3E%3Cuse xlink:href='%23L' class='B'/%3E%3Cuse xlink:href='%23M'/%3E%3Cuse xlink:href='%23M' class='B'/%3E%3Cuse xlink:href='%23N'/%3E%3Cuse xlink:href='%23N' class='B'/%3E%3Cuse xlink:href='%23O'/%3E%3Cuse xlink:href='%23O' class='B'/%3E%3Cuse xlink:href='%23P'/%3E%3Cuse xlink:href='%23P' class='B'/%3E%3Cuse xlink:href='%23Q' fill='%23fff'/%3E%3Cuse xlink:href='%23Q' class='B'/%3E%3Cuse xlink:href='%23R'/%3E%3Cuse xlink:href='%23R' class='B'/%3E%3Cuse xlink:href='%23S'/%3E%3Cuse xlink:href='%23S' class='B'/%3E%3Cuse xlink:href='%23T'/%3E%3Cuse xlink:href='%23T' class='B'/%3E%3Cuse xlink:href='%23U'/%3E%3Cuse xlink:href='%23U' class='B'/%3E%3Cuse xlink:href='%23V'/%3E%3Cuse xlink:href='%23V' class='B'/%3E%3Cuse xlink:href='%23W'/%3E%3Cuse xlink:href='%23W' class='B'/%3E%3Cuse xlink:href='%23X'/%3E%3Cuse xlink:href='%23X' class='B'/%3E%3Cuse xlink:href='%23Y'/%3E%3Cuse xlink:href='%23Y' class='B'/%3E%3C/svg%3E"); background-size: 13px !important;  background-position: 50% 50% !important; } .triggered-mine { background-color: rgba(255,0,0) !important; } .notmine { background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' preserveAspectRatio='xMidYMid meet' width='13' height='13'%3E%3Cstyle%3E%3C!%5BCDATA%5B.B%7Bfill-opacity:0%7D.C%7Bfill:red%7D%5D%5D%3E%3C/style%3E%3Cdefs%3E%3Cpath d='M3 7h7v3H3V7z' id='A'/%3E%3Cpath d='M6 0h1v13H6V0z' id='B'/%3E%3Cpath d='M0 6h13v1H0V6z' id='C'/%3E%3Cpath d='M10 2h1v1h-1V2z' id='D'/%3E%3Cpath d='M10 10h1v1h-1v-1z' id='E'/%3E%3Cpath d='M9 3h1v3H9V3z' id='F'/%3E%3Cpath d='M9 4h2v2H9V4z' id='G'/%3E%3Cpath d='M7 2h2v4H7V2z' id='H'/%3E%3Cpath d='M4 2h2v4H4V2z' id='I'/%3E%3Cpath d='M4 4h3.5v7H4V4z' id='J'/%3E%3Cpath d='M7 7h2v4H7V7z' id='K'/%3E%3Cpath d='M9 7h1v3H9V7z' id='L'/%3E%3Cpath d='M3 3h1v3H3V3z' id='M'/%3E%3Cpath d='M10 7h1v2h-1V7z' id='N'/%3E%3Cpath d='M2 4h2v5H2V4z' id='O'/%3E%3Cpath d='M2 7h1v2H2V7z' id='P'/%3E%3Cpath d='M4 4h2v2H4V4z' id='Q'/%3E%3Cpath d='M2 6h.9v3H2V6z' id='R'/%3E%3Cpath d='M6 3h4v7H6V3z' id='S'/%3E%3Cpath d='M3 3h7v1H3V3z' id='T'/%3E%3Cpath d='M4 2h5v1H4V2z' id='U'/%3E%3Cpath d='M4 10h5v1H4v-1z' id='V'/%3E%3Cpath d='M10 4h1v5h-1V4z' id='W'/%3E%3Cpath d='M2 2h1v1H2V2z' id='X'/%3E%3Cpath d='M2 10h1v1H2v-1z' id='Y'/%3E%3Cpath d='M5.5 6h2v2h-2V6z' id='Z'/%3E%3Cpath d='M7 8h2v1H7V8z' id='a'/%3E%3Cpath d='M8 9h2v1H8V9z' id='b'/%3E%3Cpath d='M9 10h2v1H9v-1z' id='c'/%3E%3Cpath d='M2 10h2v1H2v-1z' id='d'/%3E%3Cpath d='M3 9h2v1H3V9z' id='e'/%3E%3Cpath d='M4 8h2v1H4V8z' id='f'/%3E%3Cpath d='M10 11h2v1h-2v-1z' id='g'/%3E%3Cpath d='M11 12h2v1h-2v-1z' id='h'/%3E%3Cpath d='M0 12h2v1H0v-1z' id='i'/%3E%3Cpath d='M1 11h2v1H1v-1z' id='j'/%3E%3Cpath d='M7 5h2v1H7V5z' id='k'/%3E%3Cpath d='M4 5h2v1H4V5z' id='l'/%3E%3Cpath d='M3 4h2v1H3V4z' id='m'/%3E%3Cpath d='M2 3h2v1H2V3z' id='n'/%3E%3Cpath d='M1 2h2v1H1V2z' id='o'/%3E%3Cpath d='M0 1h2v1H0V1z' id='p'/%3E%3Cpath d='M8 4h2v1H8V4z' id='q'/%3E%3Cpath d='M9 3h2v1H9V3z' id='r'/%3E%3Cpath d='M10 2h2v1h-2V2z' id='s'/%3E%3Cpath d='M11 1h2v1h-2V1z' id='t'/%3E%3C/defs%3E%3Cuse xlink:href='%23A'/%3E%3Cuse xlink:href='%23A' class='B'/%3E%3Cuse xlink:href='%23B'/%3E%3Cuse xlink:href='%23B' class='B'/%3E%3Cuse xlink:href='%23C'/%3E%3Cuse xlink:href='%23C' class='B'/%3E%3Cuse xlink:href='%23D'/%3E%3Cuse xlink:href='%23D' class='B'/%3E%3Cuse xlink:href='%23E'/%3E%3Cuse xlink:href='%23E' class='B'/%3E%3Cuse xlink:href='%23F'/%3E%3Cuse xlink:href='%23F' class='B'/%3E%3Cuse xlink:href='%23G'/%3E%3Cuse xlink:href='%23G' class='B'/%3E%3Cuse xlink:href='%23H'/%3E%3Cuse xlink:href='%23H' class='B'/%3E%3Cuse xlink:href='%23I'/%3E%3Cuse xlink:href='%23I' class='B'/%3E%3Cuse xlink:href='%23J'/%3E%3Cuse xlink:href='%23J' class='B'/%3E%3Cuse xlink:href='%23K'/%3E%3Cuse xlink:href='%23K' class='B'/%3E%3Cuse xlink:href='%23L'/%3E%3Cuse xlink:href='%23L' class='B'/%3E%3Cuse xlink:href='%23M'/%3E%3Cuse xlink:href='%23M' class='B'/%3E%3Cuse xlink:href='%23N'/%3E%3Cuse xlink:href='%23N' class='B'/%3E%3Cuse xlink:href='%23O'/%3E%3Cuse xlink:href='%23O' class='B'/%3E%3Cuse xlink:href='%23P'/%3E%3Cuse xlink:href='%23P' class='B'/%3E%3Cuse xlink:href='%23Q' fill='%23fff'/%3E%3Cuse xlink:href='%23Q' class='B'/%3E%3Cuse xlink:href='%23R'/%3E%3Cuse xlink:href='%23R' class='B'/%3E%3Cuse xlink:href='%23S'/%3E%3Cuse xlink:href='%23S' class='B'/%3E%3Cuse xlink:href='%23T'/%3E%3Cuse xlink:href='%23T' class='B'/%3E%3Cuse xlink:href='%23U'/%3E%3Cuse xlink:href='%23U' class='B'/%3E%3Cuse xlink:href='%23V'/%3E%3Cuse xlink:href='%23V' class='B'/%3E%3Cuse xlink:href='%23W'/%3E%3Cuse xlink:href='%23W' class='B'/%3E%3Cuse xlink:href='%23X'/%3E%3Cuse xlink:href='%23X' class='B'/%3E%3Cuse xlink:href='%23Y'/%3E%3Cuse xlink:href='%23Y' class='B'/%3E%3Cuse xlink:href='%23Z' class='C'/%3E%3Cuse xlink:href='%23Z' class='B'/%3E%3Cuse xlink:href='%23a' class='C'/%3E%3Cuse xlink:href='%23a' class='B'/%3E%3Cuse xlink:href='%23b' class='C'/%3E%3Cuse xlink:href='%23b' class='B'/%3E%3Cuse xlink:href='%23c' class='C'/%3E%3Cuse xlink:href='%23c' class='B'/%3E%3Cuse xlink:href='%23d' class='C'/%3E%3Cuse xlink:href='%23d' class='B'/%3E%3Cuse xlink:href='%23e' class='C'/%3E%3Cuse xlink:href='%23e' class='B'/%3E%3Cuse xlink:href='%23f' class='C'/%3E%3Cuse xlink:href='%23f' class='B'/%3E%3Cuse xlink:href='%23g' class='C'/%3E%3Cuse xlink:href='%23g' class='B'/%3E%3Cuse xlink:href='%23h' class='C'/%3E%3Cuse xlink:href='%23h' class='B'/%3E%3Cuse xlink:href='%23i' class='C'/%3E%3Cuse xlink:href='%23i' class='B'/%3E%3Cuse xlink:href='%23j' class='C'/%3E%3Cuse xlink:href='%23j' class='B'/%3E%3Cuse xlink:href='%23k' class='C'/%3E%3Cuse xlink:href='%23k' class='B'/%3E%3Cuse xlink:href='%23l' class='C'/%3E%3Cuse xlink:href='%23l' class='B'/%3E%3Cuse xlink:href='%23m' class='C'/%3E%3Cuse xlink:href='%23m' class='B'/%3E%3Cuse xlink:href='%23n' class='C'/%3E%3Cuse xlink:href='%23n' class='B'/%3E%3Cuse xlink:href='%23o' class='C'/%3E%3Cuse xlink:href='%23o' class='B'/%3E%3Cuse xlink:href='%23p' class='C'/%3E%3Cuse xlink:href='%23p' class='B'/%3E%3Cuse xlink:href='%23q' class='C'/%3E%3Cuse xlink:href='%23q' class='B'/%3E%3Cuse xlink:href='%23r' class='C'/%3E%3Cuse xlink:href='%23r' class='B'/%3E%3Cuse xlink:href='%23s' class='C'/%3E%3Cuse xlink:href='%23s' class='B'/%3E%3Cuse xlink:href='%23t' class='C'/%3E%3Cuse xlink:href='%23t' class='B'/%3E%3C/svg%3E"); background-size: 13px !important;  background-position: 50% 50% !important; } .flag { background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' preserveAspectRatio='xMidYMid meet' width='10' height='10'%3E%3Cdefs%3E%3Cpath d='M2 1h4v3H2V1z' id='A'/%3E%3Cpath d='M4 0h2v5H4V0z' id='B'/%3E%3Cpath d='M1 2.02L2 2l.02 1-1 .02-.02-1z' id='C'/%3E%3Cpath d='M5 5h1v4H5V5z' id='D'/%3E%3Cpath d='M3 7h4v2H3V7z' id='E'/%3E%3Cpath d='M1 8h8v2H1V8z' id='F'/%3E%3C/defs%3E%3Cuse xlink:href='%23A' fill='red'/%3E%3Cuse xlink:href='%23A' fill-opacity='0'/%3E%3Cuse xlink:href='%23B' fill='red'/%3E%3Cuse xlink:href='%23B' fill-opacity='0'/%3E%3Cuse xlink:href='%23C' fill='red'/%3E%3Cuse xlink:href='%23C' fill-opacity='0'/%3E%3Cuse xlink:href='%23D'/%3E%3Cuse xlink:href='%23D' fill-opacity='0'/%3E%3Cuse xlink:href='%23E'/%3E%3Cuse xlink:href='%23E' fill-opacity='0'/%3E%3Cuse xlink:href='%23F'/%3E%3Cuse xlink:href='%23F' fill-opacity='0'/%3E%3C/svg%3E"); background-position: 50% 50% !important; } .question { background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' preserveAspectRatio='xMidYMid meet' width='10' height='10'%3E%3Cstyle%3E%3C!%5BCDATA%5B.B%7Bfill-opacity:0%7D%5D%5D%3E%3C/style%3E%3Cdefs%3E%3Cpath d='M3 0h4v1H3V0z' id='A'/%3E%3Cpath d='M2 1h2v2H2V1z' id='B'/%3E%3Cpath d='M6 1h2v3H6V1z' id='C'/%3E%3Cpath d='M5 4h2v1H5V4z' id='D'/%3E%3Cpath d='M4 5h2v2H4V5z' id='E'/%3E%3Cpath d='M4 8h2v2H4V8z' id='F'/%3E%3Cpath d='M6 0h1v5H6V0z' id='G'/%3E%3Cpath d='M3 0h1v3H3V0z' id='H'/%3E%3Cpath d='M5 4h1v3H5V4z' id='I'/%3E%3C/defs%3E%3Cuse xlink:href='%23A'/%3E%3Cuse xlink:href='%23A' class='B'/%3E%3Cuse xlink:href='%23B'/%3E%3Cuse xlink:href='%23B' class='B'/%3E%3Cuse xlink:href='%23C'/%3E%3Cuse xlink:href='%23C' class='B'/%3E%3Cuse xlink:href='%23D'/%3E%3Cuse xlink:href='%23D' class='B'/%3E%3Cuse xlink:href='%23E'/%3E%3Cuse xlink:href='%23E' class='B'/%3E%3Cuse xlink:href='%23F'/%3E%3Cuse xlink:href='%23F' class='B'/%3E%3Cuse xlink:href='%23G'/%3E%3Cuse xlink:href='%23G' class='B'/%3E%3Cuse xlink:href='%23H'/%3E%3Cuse xlink:href='%23H' class='B'/%3E%3Cuse xlink:href='%23I'/%3E%3Cuse xlink:href='%23I' class='B'/%3E%3C/svg%3E"); background-position: 50% 50% !important; } .face-neutral { background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' preserveAspectRatio='xMidYMid meet' width='17' height='17'%3E%3Cstyle%3E%3C!%5BCDATA%5B.B%7Bfill-opacity:0%7D%5D%5D%3E%3C/style%3E%3Cdefs%3E%3Cpath d='M6 0h5v1H6V0z' id='A'/%3E%3Cpath d='M6 16h5v1H6v-1z' id='B'/%3E%3Cpath d='M0 6h1v5H0V6z' id='C'/%3E%3Cpath d='M16 6h1v5h-1V6z' id='D'/%3E%3Cpath d='M4 1h2v1H4V1z' id='E'/%3E%3Cpath d='M11 1h2v1h-2V1z' id='F'/%3E%3Cpath d='M4 15h2v1H4v-1z' id='G'/%3E%3Cpath d='M11 15h2v1h-2v-1z' id='H'/%3E%3Cpath d='M1 4h1v2H1V4z' id='I'/%3E%3Cpath d='M15 4h1v2h-1V4z' id='J'/%3E%3Cpath d='M1 11h1v2H1v-2z' id='K'/%3E%3Cpath d='M15 11h1v2h-1v-2z' id='L'/%3E%3Cpath d='M3 2h1v1H3V2z' id='M'/%3E%3Cpath d='M2 3h1v1H2V3z' id='N'/%3E%3Cpath d='M13 2h1v1h-1V2z' id='O'/%3E%3Cpath d='M14 3h1v1h-1V3z' id='P'/%3E%3Cpath d='M14 13h1v1h-1v-1z' id='Q'/%3E%3Cpath d='M13 14h1v1h-1v-1z' id='R'/%3E%3Cpath d='M2 13h1v1H2v-1z' id='S'/%3E%3Cpath d='M3 14h1v1H3v-1z' id='T'/%3E%3Cpath d='M1 6h15v5H1V6z' id='U'/%3E%3Cpath d='M2 4h13v9H2V4z' id='V'/%3E%3Cpath d='M3 3h11v11H3V3z' id='W'/%3E%3Cpath d='M4 2h9v13H4V2z' id='X'/%3E%3Cpath d='M6 1h5v15H6V1z' id='Y'/%3E%3Cpath d='M5 5h2v2H5V5z' id='Z'/%3E%3Cpath d='M10 5h2v2h-2V5z' id='a'/%3E%3Cpath d='M6 12h5v1H6v-1z' id='b'/%3E%3Cpath d='M11 11h1v1h-1v-1z' id='c'/%3E%3Cpath d='M12 10h1v1h-1v-1z' id='d'/%3E%3Cpath d='M5 11h1v1H5v-1z' id='e'/%3E%3Cpath d='M4 10h1v1H4v-1z' id='f'/%3E%3C/defs%3E%3Cuse xlink:href='%23A'/%3E%3Cuse xlink:href='%23A' class='B'/%3E%3Cuse xlink:href='%23B'/%3E%3Cuse xlink:href='%23B' class='B'/%3E%3Cuse xlink:href='%23C'/%3E%3Cuse xlink:href='%23C' class='B'/%3E%3Cuse xlink:href='%23D'/%3E%3Cuse xlink:href='%23D' class='B'/%3E%3Cuse xlink:href='%23E'/%3E%3Cuse xlink:href='%23E' class='B'/%3E%3Cuse xlink:href='%23F'/%3E%3Cuse xlink:href='%23F' class='B'/%3E%3Cuse xlink:href='%23G'/%3E%3Cuse xlink:href='%23G' class='B'/%3E%3Cuse xlink:href='%23H'/%3E%3Cuse xlink:href='%23H' class='B'/%3E%3Cuse xlink:href='%23I'/%3E%3Cuse xlink:href='%23I' class='B'/%3E%3Cuse xlink:href='%23J'/%3E%3Cuse xlink:href='%23J' class='B'/%3E%3Cuse xlink:href='%23K'/%3E%3Cuse xlink:href='%23K' class='B'/%3E%3Cuse xlink:href='%23L'/%3E%3Cuse xlink:href='%23L' class='B'/%3E%3Cuse xlink:href='%23M'/%3E%3Cuse xlink:href='%23M' class='B'/%3E%3Cuse xlink:href='%23N'/%3E%3Cuse xlink:href='%23N' class='B'/%3E%3Cuse xlink:href='%23O'/%3E%3Cuse xlink:href='%23O' class='B'/%3E%3Cuse xlink:href='%23P'/%3E%3Cuse xlink:href='%23P' class='B'/%3E%3Cuse xlink:href='%23Q'/%3E%3Cuse xlink:href='%23Q' class='B'/%3E%3Cuse xlink:href='%23R'/%3E%3Cuse xlink:href='%23R' class='B'/%3E%3Cuse xlink:href='%23S'/%3E%3Cuse xlink:href='%23S' class='B'/%3E%3Cuse xlink:href='%23T'/%3E%3Cuse xlink:href='%23T' class='B'/%3E%3Cg fill='%23ff0'%3E%3Cuse xlink:href='%23U'/%3E%3Cuse xlink:href='%23V'/%3E%3Cuse xlink:href='%23W'/%3E%3Cuse xlink:href='%23X'/%3E%3Cuse xlink:href='%23Y'/%3E%3C/g%3E%3Cuse xlink:href='%23Z'/%3E%3Cuse xlink:href='%23Z' class='B'/%3E%3Cuse xlink:href='%23a'/%3E%3Cuse xlink:href='%23a' class='B'/%3E%3Cuse xlink:href='%23b'/%3E%3Cuse xlink:href='%23b' class='B'/%3E%3Cuse xlink:href='%23c'/%3E%3Cuse xlink:href='%23c' class='B'/%3E%3Cuse xlink:href='%23d'/%3E%3Cuse xlink:href='%23d' class='B'/%3E%3Cuse xlink:href='%23e'/%3E%3Cuse xlink:href='%23e' class='B'/%3E%3Cuse xlink:href='%23f'/%3E%3Cuse xlink:href='%23f' class='B'/%3E%3C/svg%3E") !important; } .face-cursor-down { background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' preserveAspectRatio='xMidYMid meet' width='17' height='17'%3E%3Cstyle%3E%3C!%5BCDATA%5B.B%7Bfill-opacity:0%7D.C%7Bfill:olive%7D%5D%5D%3E%3C/style%3E%3Cdefs%3E%3Cpath d='M6 0h5v1H6V0z' id='A'/%3E%3Cpath d='M6 16h5v1H6v-1z' id='B'/%3E%3Cpath d='M0 6h1v5H0V6z' id='C'/%3E%3Cpath d='M16 6h1v5h-1V6z' id='D'/%3E%3Cpath d='M4 1h2v1H4V1z' id='E'/%3E%3Cpath d='M11 1h2v1h-2V1z' id='F'/%3E%3Cpath d='M4 15h2v1H4v-1z' id='G'/%3E%3Cpath d='M11 15h2v1h-2v-1z' id='H'/%3E%3Cpath d='M1 4h1v2H1V4z' id='I'/%3E%3Cpath d='M15 4h1v2h-1V4z' id='J'/%3E%3Cpath d='M1 11h1v2H1v-2z' id='K'/%3E%3Cpath d='M15 11h1v2h-1v-2z' id='L'/%3E%3Cpath d='M3 2h1v1H3V2z' id='M'/%3E%3Cpath d='M2 3h1v1H2V3z' id='N'/%3E%3Cpath d='M13 2h1v1h-1V2z' id='O'/%3E%3Cpath d='M14 3h1v1h-1V3z' id='P'/%3E%3Cpath d='M14 13h1v1h-1v-1z' id='Q'/%3E%3Cpath d='M13 14h1v1h-1v-1z' id='R'/%3E%3Cpath d='M2 13h1v1H2v-1z' id='S'/%3E%3Cpath d='M3 14h1v1H3v-1z' id='T'/%3E%3Cpath d='M1 6h15v5H1V6z' id='U'/%3E%3Cpath d='M2 4h13v9H2V4z' id='V'/%3E%3Cpath d='M3 3h11v11H3V3z' id='W'/%3E%3Cpath d='M4 2h9v13H4V2z' id='X'/%3E%3Cpath d='M6 1h5v15H6V1z' id='Y'/%3E%3Cpath d='M4 4h1v1H4V4z' id='Z'/%3E%3Cpath d='M6 6h1v1H6V6z' id='a'/%3E%3Cpath d='M7 9h3v1H7V9z' id='b'/%3E%3Cpath d='M10 11h1v1h-1v-1z' id='c'/%3E%3Cpath d='M6 11h1v1H6v-1z' id='d'/%3E%3Cpath d='M4 6h1v1H4V6z' id='e'/%3E%3Cpath d='M6 4h1v1H6V4z' id='f'/%3E%3Cpath d='M10 4h1v1h-1V4z' id='g'/%3E%3Cpath d='M4 5h3v1H4V5z' id='h'/%3E%3Cpath d='M12.01 6h1v1h-1V6z' id='i'/%3E%3Cpath d='M12.01 4h1v1h-1V4z' id='j'/%3E%3Cpath d='M10 6h1v1h-1V6z' id='k'/%3E%3Cpath d='M5 4h1v3H5V4z' id='l'/%3E%3Cpath d='M11 4h1v3h-1V4z' id='m'/%3E%3Cpath d='M10 5h3v1h-3V5z' id='n'/%3E%3Cpath d='M10 10h1v1h-1v-1z' id='o'/%3E%3Cpath d='M6 10h1v1H6v-1z' id='p'/%3E%3Cpath d='M6 12h1v1H6v-1z' id='q'/%3E%3Cpath d='M10 12h1v1h-1v-1z' id='r'/%3E%3Cpath d='M7 13h3v1H7v-1z' id='s'/%3E%3Cpath d='M7 12h1v2H7v-2z' id='t'/%3E%3Cpath d='M9 12h1v2H9v-2z' id='u'/%3E%3Cpath d='M9 9h1v2H9V9z' id='v'/%3E%3Cpath d='M7 9h1v2H7V9z' id='w'/%3E%3C/defs%3E%3Cuse xlink:href='%23A'/%3E%3Cuse xlink:href='%23A' class='B'/%3E%3Cuse xlink:href='%23B'/%3E%3Cuse xlink:href='%23B' class='B'/%3E%3Cuse xlink:href='%23C'/%3E%3Cuse xlink:href='%23C' class='B'/%3E%3Cuse xlink:href='%23D'/%3E%3Cuse xlink:href='%23D' class='B'/%3E%3Cuse xlink:href='%23E'/%3E%3Cuse xlink:href='%23E' class='B'/%3E%3Cuse xlink:href='%23F'/%3E%3Cuse xlink:href='%23F' class='B'/%3E%3Cuse xlink:href='%23G'/%3E%3Cuse xlink:href='%23G' class='B'/%3E%3Cuse xlink:href='%23H'/%3E%3Cuse xlink:href='%23H' class='B'/%3E%3Cuse xlink:href='%23I'/%3E%3Cuse xlink:href='%23I' class='B'/%3E%3Cuse xlink:href='%23J'/%3E%3Cuse xlink:href='%23J' class='B'/%3E%3Cuse xlink:href='%23K'/%3E%3Cuse xlink:href='%23K' class='B'/%3E%3Cuse xlink:href='%23L'/%3E%3Cuse xlink:href='%23L' class='B'/%3E%3Cuse xlink:href='%23M'/%3E%3Cuse xlink:href='%23M' class='B'/%3E%3Cuse xlink:href='%23N'/%3E%3Cuse xlink:href='%23N' class='B'/%3E%3Cuse xlink:href='%23O'/%3E%3Cuse xlink:href='%23O' class='B'/%3E%3Cuse xlink:href='%23P'/%3E%3Cuse xlink:href='%23P' class='B'/%3E%3Cuse xlink:href='%23Q'/%3E%3Cuse xlink:href='%23Q' class='B'/%3E%3Cuse xlink:href='%23R'/%3E%3Cuse xlink:href='%23R' class='B'/%3E%3Cuse xlink:href='%23S'/%3E%3Cuse xlink:href='%23S' class='B'/%3E%3Cuse xlink:href='%23T'/%3E%3Cuse xlink:href='%23T' class='B'/%3E%3Cg fill='%23ff0'%3E%3Cuse xlink:href='%23U'/%3E%3Cuse xlink:href='%23V'/%3E%3Cuse xlink:href='%23W'/%3E%3Cuse xlink:href='%23X'/%3E%3Cuse xlink:href='%23Y'/%3E%3C/g%3E%3Cuse xlink:href='%23Z' class='C'/%3E%3Cuse xlink:href='%23Z' class='B'/%3E%3Cuse xlink:href='%23a' class='C'/%3E%3Cuse xlink:href='%23a' class='B'/%3E%3Cuse xlink:href='%23b'/%3E%3Cuse xlink:href='%23b' class='B'/%3E%3Cuse xlink:href='%23c'/%3E%3Cuse xlink:href='%23c' class='B'/%3E%3Cuse xlink:href='%23d'/%3E%3Cuse xlink:href='%23d' class='B'/%3E%3Cuse xlink:href='%23e' class='C'/%3E%3Cuse xlink:href='%23e' class='B'/%3E%3Cuse xlink:href='%23f' class='C'/%3E%3Cuse xlink:href='%23f' class='B'/%3E%3Cuse xlink:href='%23g' class='C'/%3E%3Cuse xlink:href='%23g' class='B'/%3E%3Cuse xlink:href='%23h'/%3E%3Cuse xlink:href='%23h' class='B'/%3E%3Cuse xlink:href='%23i' class='C'/%3E%3Cuse xlink:href='%23i' class='B'/%3E%3Cuse xlink:href='%23j' class='C'/%3E%3Cuse xlink:href='%23j' class='B'/%3E%3Cuse xlink:href='%23k' class='C'/%3E%3Cuse xlink:href='%23k' class='B'/%3E%3Cuse xlink:href='%23l'/%3E%3Cuse xlink:href='%23l' class='B'/%3E%3Cuse xlink:href='%23m'/%3E%3Cuse xlink:href='%23m' class='B'/%3E%3Cuse xlink:href='%23n'/%3E%3Cuse xlink:href='%23n' class='B'/%3E%3Cuse xlink:href='%23o' class='C'/%3E%3Cuse xlink:href='%23o' class='B'/%3E%3Cuse xlink:href='%23p' class='C'/%3E%3Cuse xlink:href='%23p' class='B'/%3E%3Cuse xlink:href='%23q' class='C'/%3E%3Cuse xlink:href='%23q' class='B'/%3E%3Cuse xlink:href='%23r' class='C'/%3E%3Cuse xlink:href='%23r' class='B'/%3E%3Cuse xlink:href='%23s'/%3E%3Cuse xlink:href='%23s' class='B'/%3E%3Cuse xlink:href='%23t'/%3E%3Cuse xlink:href='%23t' class='B'/%3E%3Cuse xlink:href='%23u'/%3E%3Cuse xlink:href='%23u' class='B'/%3E%3Cuse xlink:href='%23v'/%3E%3Cuse xlink:href='%23v' class='B'/%3E%3Cuse xlink:href='%23w'/%3E%3Cuse xlink:href='%23w' class='B'/%3E%3C/svg%3E"); } .face-game-over { background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' preserveAspectRatio='xMidYMid meet' width='17' height='17'%3E%3Cstyle%3E%3C!%5BCDATA%5B.B%7Bfill-opacity:0%7D%5D%5D%3E%3C/style%3E%3Cdefs%3E%3Cpath d='M6 0h5v1H6V0z' id='A'/%3E%3Cpath d='M6 16h5v1H6v-1z' id='B'/%3E%3Cpath d='M0 6h1v5H0V6z' id='C'/%3E%3Cpath d='M16 6h1v5h-1V6z' id='D'/%3E%3Cpath d='M4 1h2v1H4V1z' id='E'/%3E%3Cpath d='M11 1h2v1h-2V1z' id='F'/%3E%3Cpath d='M4 15h2v1H4v-1z' id='G'/%3E%3Cpath d='M11 15h2v1h-2v-1z' id='H'/%3E%3Cpath d='M1 4h1v2H1V4z' id='I'/%3E%3Cpath d='M15 4h1v2h-1V4z' id='J'/%3E%3Cpath d='M1 11h1v2H1v-2z' id='K'/%3E%3Cpath d='M15 11h1v2h-1v-2z' id='L'/%3E%3Cpath d='M3 2h1v1H3V2z' id='M'/%3E%3Cpath d='M2 3h1v1H2V3z' id='N'/%3E%3Cpath d='M13 2h1v1h-1V2z' id='O'/%3E%3Cpath d='M14 3h1v1h-1V3z' id='P'/%3E%3Cpath d='M14 13h1v1h-1v-1z' id='Q'/%3E%3Cpath d='M13 14h1v1h-1v-1z' id='R'/%3E%3Cpath d='M2 13h1v1H2v-1z' id='S'/%3E%3Cpath d='M3 14h1v1H3v-1z' id='T'/%3E%3Cpath d='M1 6h15v5H1V6z' id='U'/%3E%3Cpath d='M2 4h13v9H2V4z' id='V'/%3E%3Cpath d='M3 3h11v11H3V3z' id='W'/%3E%3Cpath d='M4 2h9v13H4V2z' id='X'/%3E%3Cpath d='M6 1h5v15H6V1z' id='Y'/%3E%3Cpath d='M4 4h1v1H4V4z' id='Z'/%3E%3Cpath d='M6 6h1v1H6V6z' id='a'/%3E%3Cpath d='M6 10h5v1H6v-1z' id='b'/%3E%3Cpath d='M11 11h1v1h-1v-1z' id='c'/%3E%3Cpath d='M12 12h1v1h-1v-1z' id='d'/%3E%3Cpath d='M5 11h1v1H5v-1z' id='e'/%3E%3Cpath d='M4 12h1v1H4v-1z' id='f'/%3E%3Cpath d='M4 6h1v1H4V6z' id='g'/%3E%3Cpath d='M6 4h1v1H6V4z' id='h'/%3E%3Cpath d='M10 4h1v1h-1V4z' id='i'/%3E%3Cpath d='M5 5h1v1H5V5z' id='j'/%3E%3Cpath d='M11 5h1v1h-1V5z' id='k'/%3E%3Cpath d='M12.01 6h1v1h-1V6z' id='l'/%3E%3Cpath d='M12.01 4h1v1h-1V4z' id='m'/%3E%3Cpath d='M10 6h1v1h-1V6z' id='n'/%3E%3C/defs%3E%3Cuse xlink:href='%23A'/%3E%3Cuse xlink:href='%23A' class='B'/%3E%3Cuse xlink:href='%23B'/%3E%3Cuse xlink:href='%23B' class='B'/%3E%3Cuse xlink:href='%23C'/%3E%3Cuse xlink:href='%23C' class='B'/%3E%3Cuse xlink:href='%23D'/%3E%3Cuse xlink:href='%23D' class='B'/%3E%3Cuse xlink:href='%23E'/%3E%3Cuse xlink:href='%23E' class='B'/%3E%3Cuse xlink:href='%23F'/%3E%3Cuse xlink:href='%23F' class='B'/%3E%3Cuse xlink:href='%23G'/%3E%3Cuse xlink:href='%23G' class='B'/%3E%3Cuse xlink:href='%23H'/%3E%3Cuse xlink:href='%23H' class='B'/%3E%3Cuse xlink:href='%23I'/%3E%3Cuse xlink:href='%23I' class='B'/%3E%3Cuse xlink:href='%23J'/%3E%3Cuse xlink:href='%23J' class='B'/%3E%3Cuse xlink:href='%23K'/%3E%3Cuse xlink:href='%23K' class='B'/%3E%3Cuse xlink:href='%23L'/%3E%3Cuse xlink:href='%23L' class='B'/%3E%3Cuse xlink:href='%23M'/%3E%3Cuse xlink:href='%23M' class='B'/%3E%3Cuse xlink:href='%23N'/%3E%3Cuse xlink:href='%23N' class='B'/%3E%3Cuse xlink:href='%23O'/%3E%3Cuse xlink:href='%23O' class='B'/%3E%3Cuse xlink:href='%23P'/%3E%3Cuse xlink:href='%23P' class='B'/%3E%3Cuse xlink:href='%23Q'/%3E%3Cuse xlink:href='%23Q' class='B'/%3E%3Cuse xlink:href='%23R'/%3E%3Cuse xlink:href='%23R' class='B'/%3E%3Cuse xlink:href='%23S'/%3E%3Cuse xlink:href='%23S' class='B'/%3E%3Cuse xlink:href='%23T'/%3E%3Cuse xlink:href='%23T' class='B'/%3E%3Cg fill='%23ff0'%3E%3Cuse xlink:href='%23U'/%3E%3Cuse xlink:href='%23V'/%3E%3Cuse xlink:href='%23W'/%3E%3Cuse xlink:href='%23X'/%3E%3Cuse xlink:href='%23Y'/%3E%3C/g%3E%3Cuse xlink:href='%23Z'/%3E%3Cuse xlink:href='%23Z' class='B'/%3E%3Cuse xlink:href='%23a'/%3E%3Cuse xlink:href='%23a' class='B'/%3E%3Cuse xlink:href='%23b'/%3E%3Cuse xlink:href='%23b' class='B'/%3E%3Cuse xlink:href='%23c'/%3E%3Cuse xlink:href='%23c' class='B'/%3E%3Cuse xlink:href='%23d'/%3E%3Cuse xlink:href='%23d' class='B'/%3E%3Cuse xlink:href='%23e'/%3E%3Cuse xlink:href='%23e' class='B'/%3E%3Cuse xlink:href='%23f'/%3E%3Cuse xlink:href='%23f' class='B'/%3E%3Cuse xlink:href='%23g'/%3E%3Cuse xlink:href='%23g' class='B'/%3E%3Cuse xlink:href='%23h'/%3E%3Cuse xlink:href='%23h' class='B'/%3E%3Cuse xlink:href='%23i'/%3E%3Cuse xlink:href='%23i' class='B'/%3E%3Cuse xlink:href='%23j'/%3E%3Cuse xlink:href='%23j' class='B'/%3E%3Cuse xlink:href='%23k'/%3E%3Cuse xlink:href='%23k' class='B'/%3E%3Cuse xlink:href='%23l'/%3E%3Cuse xlink:href='%23l' class='B'/%3E%3Cuse xlink:href='%23m'/%3E%3Cuse xlink:href='%23m' class='B'/%3E%3Cuse xlink:href='%23n'/%3E%3Cuse xlink:href='%23n' class='B'/%3E%3C/svg%3E"); } .face-game-win { background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' preserveAspectRatio='xMidYMid meet' width='17' height='17'%3E%3Cstyle%3E%3C!%5BCDATA%5B.B%7Bfill-opacity:0%7D%5D%5D%3E%3C/style%3E%3Cdefs%3E%3Cpath d='M6 0h5v1H6V0z' id='A'/%3E%3Cpath d='M6 16h5v1H6v-1z' id='B'/%3E%3Cpath d='M0 6h1v5H0V6z' id='C'/%3E%3Cpath d='M16 6h1v5h-1V6z' id='D'/%3E%3Cpath d='M4 1h2v1H4V1z' id='E'/%3E%3Cpath d='M11 1h2v1h-2V1z' id='F'/%3E%3Cpath d='M4 15h2v1H4v-1z' id='G'/%3E%3Cpath d='M11 15h2v1h-2v-1z' id='H'/%3E%3Cpath d='M1 4h1v2H1V4z' id='I'/%3E%3Cpath d='M15 4h1v2h-1V4z' id='J'/%3E%3Cpath d='M1 11h1v2H1v-2z' id='K'/%3E%3Cpath d='M15 11h1v2h-1v-2z' id='L'/%3E%3Cpath d='M3 2h1v1H3V2z' id='M'/%3E%3Cpath d='M2 3h1v1H2V3z' id='N'/%3E%3Cpath d='M13 2h1v1h-1V2z' id='O'/%3E%3Cpath d='M14 3h1v1h-1V3z' id='P'/%3E%3Cpath d='M14 13h1v1h-1v-1z' id='Q'/%3E%3Cpath d='M13 14h1v1h-1v-1z' id='R'/%3E%3Cpath d='M2 13h1v1H2v-1z' id='S'/%3E%3Cpath d='M3 14h1v1H3v-1z' id='T'/%3E%3Cpath d='M1 6h15v5H1V6z' id='U'/%3E%3Cpath d='M2 4h13v9H2V4z' id='V'/%3E%3Cpath d='M3 3h11v11H3V3z' id='W'/%3E%3Cpath d='M4 2h9v13H4V2z' id='X'/%3E%3Cpath d='M6 1h5v15H6V1z' id='Y'/%3E%3Cpath d='M4 5h4v3H4V5z' id='Z'/%3E%3Cpath d='M9 5h4v3H9V5z' id='a'/%3E%3Cpath d='M6 12h5v1H6v-1z' id='b'/%3E%3Cpath d='M7 5h3v1H7V5z' id='c'/%3E%3Cpath d='M15 8h1v1h-1V8z' id='d'/%3E%3Cpath d='M5 11h1v1H5v-1z' id='e'/%3E%3Cpath d='M1 8h1v1H1V8z' id='f'/%3E%3Cpath d='M14 7h1v1h-1V7z' id='g'/%3E%3Cpath d='M13 6h1v1h-1V6z' id='h'/%3E%3Cpath d='M2 7h1v1H2V7z' id='i'/%3E%3Cpath d='M3 6h1v1H3V6z' id='j'/%3E%3Cpath d='M12 8h1v1h-1V8z' id='k'/%3E%3Cpath d='M4 8h1v1H4V8z' id='l'/%3E%3Cpath d='M5 7h2v2H5V7z' id='m'/%3E%3Cpath d='M10 7h2v2h-2V7z' id='n'/%3E%3Cpath d='M11 11h1v1h-1v-1z' id='o'/%3E%3C/defs%3E%3Cuse xlink:href='%23A'/%3E%3Cuse xlink:href='%23A' class='B'/%3E%3Cuse xlink:href='%23B'/%3E%3Cuse xlink:href='%23B' class='B'/%3E%3Cuse xlink:href='%23C'/%3E%3Cuse xlink:href='%23C' class='B'/%3E%3Cuse xlink:href='%23D'/%3E%3Cuse xlink:href='%23D' class='B'/%3E%3Cuse xlink:href='%23E'/%3E%3Cuse xlink:href='%23E' class='B'/%3E%3Cuse xlink:href='%23F'/%3E%3Cuse xlink:href='%23F' class='B'/%3E%3Cuse xlink:href='%23G'/%3E%3Cuse xlink:href='%23G' class='B'/%3E%3Cuse xlink:href='%23H'/%3E%3Cuse xlink:href='%23H' class='B'/%3E%3Cuse xlink:href='%23I'/%3E%3Cuse xlink:href='%23I' class='B'/%3E%3Cuse xlink:href='%23J'/%3E%3Cuse xlink:href='%23J' class='B'/%3E%3Cuse xlink:href='%23K'/%3E%3Cuse xlink:href='%23K' class='B'/%3E%3Cuse xlink:href='%23L'/%3E%3Cuse xlink:href='%23L' class='B'/%3E%3Cuse xlink:href='%23M'/%3E%3Cuse xlink:href='%23M' class='B'/%3E%3Cuse xlink:href='%23N'/%3E%3Cuse xlink:href='%23N' class='B'/%3E%3Cuse xlink:href='%23O'/%3E%3Cuse xlink:href='%23O' class='B'/%3E%3Cuse xlink:href='%23P'/%3E%3Cuse xlink:href='%23P' class='B'/%3E%3Cuse xlink:href='%23Q'/%3E%3Cuse xlink:href='%23Q' class='B'/%3E%3Cuse xlink:href='%23R'/%3E%3Cuse xlink:href='%23R' class='B'/%3E%3Cuse xlink:href='%23S'/%3E%3Cuse xlink:href='%23S' class='B'/%3E%3Cuse xlink:href='%23T'/%3E%3Cuse xlink:href='%23T' class='B'/%3E%3Cg fill='%23ff0'%3E%3Cuse xlink:href='%23U'/%3E%3Cuse xlink:href='%23V'/%3E%3Cuse xlink:href='%23W'/%3E%3Cuse xlink:href='%23X'/%3E%3Cuse xlink:href='%23Y'/%3E%3C/g%3E%3Cuse xlink:href='%23Z'/%3E%3Cuse xlink:href='%23Z' class='B'/%3E%3Cuse xlink:href='%23a'/%3E%3Cuse xlink:href='%23a' class='B'/%3E%3Cuse xlink:href='%23b'/%3E%3Cuse xlink:href='%23b' class='B'/%3E%3Cuse xlink:href='%23c'/%3E%3Cuse xlink:href='%23c' class='B'/%3E%3Cuse xlink:href='%23d'/%3E%3Cuse xlink:href='%23d' class='B'/%3E%3Cuse xlink:href='%23e'/%3E%3Cuse xlink:href='%23e' class='B'/%3E%3Cuse xlink:href='%23f'/%3E%3Cuse xlink:href='%23f' class='B'/%3E%3Cuse xlink:href='%23g'/%3E%3Cuse xlink:href='%23g' class='B'/%3E%3Cuse xlink:href='%23h'/%3E%3Cuse xlink:href='%23h' class='B'/%3E%3Cuse xlink:href='%23i'/%3E%3Cuse xlink:href='%23i' class='B'/%3E%3Cuse xlink:href='%23j'/%3E%3Cuse xlink:href='%23j' class='B'/%3E%3Cuse xlink:href='%23k' fill='olive'/%3E%3Cuse xlink:href='%23k' class='B'/%3E%3Cuse xlink:href='%23l' fill='olive'/%3E%3Cuse xlink:href='%23l' class='B'/%3E%3Cuse xlink:href='%23m'/%3E%3Cuse xlink:href='%23m' class='B'/%3E%3Cuse xlink:href='%23n'/%3E%3Cuse xlink:href='%23n' class='B'/%3E%3Cuse xlink:href='%23o'/%3E%3Cuse xlink:href='%23o' class='B'/%3E%3C/svg%3E"); } .c1 { background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' preserveAspectRatio='xMidYMid meet' width='10' height='10'%3E%3Cdefs%3E%3Cpath d='M5 0h2v9H5V0z' id='A'/%3E%3Cpath d='M2 8h7v2H2V8z' id='B'/%3E%3Cpath d='M4 1h3v8H4V1z' id='C'/%3E%3Cpath d='M3 2h2v2H3V2z' id='D'/%3E%3Cpath d='M2 3h2v1H2V3z' id='E'/%3E%3C/defs%3E%3Cuse xlink:href='%23A' fill='%2300f'/%3E%3Cuse xlink:href='%23A' fill-opacity='0'/%3E%3Cuse xlink:href='%23B' fill='%2300f'/%3E%3Cuse xlink:href='%23B' fill-opacity='0'/%3E%3Cuse xlink:href='%23C' fill='%2300f'/%3E%3Cuse xlink:href='%23C' fill-opacity='0'/%3E%3Cuse xlink:href='%23D' fill='%2300f'/%3E%3Cuse xlink:href='%23D' fill-opacity='0'/%3E%3Cuse xlink:href='%23E' fill='%2300f'/%3E%3Cuse xlink:href='%23E' fill-opacity='0'/%3E%3C/svg%3E") } .c2 { background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' preserveAspectRatio='xMidYMid meet' width='10' height='10'%3E%3Cstyle%3E%3C!%5BCDATA%5B.B%7Bfill:green%7D.C%7Bfill-opacity:0%7D%5D%5D%3E%3C/style%3E%3Cdefs%3E%3Cpath d='M0 1h3v2H0V1z' id='A'/%3E%3Cpath d='M1 0h8v2H1V0z' id='B'/%3E%3Cpath d='M7 1h3v3H7V1z' id='C'/%3E%3Cpath d='M0 8h10v2H0V8z' id='D'/%3E%3Cpath d='M0 7h4v2H0V7z' id='E'/%3E%3Cpath d='M1 6h3v2H1V6z' id='F'/%3E%3Cpath d='M3 5h3v2H3V5z' id='G'/%3E%3Cpath d='M5 4h3v2H5V4z' id='H'/%3E%3Cpath d='M7 0h2v5H7V0z' id='I'/%3E%3C/defs%3E%3Cuse xlink:href='%23A' class='B'/%3E%3Cuse xlink:href='%23A' class='C'/%3E%3Cuse xlink:href='%23B' class='B'/%3E%3Cuse xlink:href='%23B' class='C'/%3E%3Cuse xlink:href='%23C' class='B'/%3E%3Cuse xlink:href='%23C' class='C'/%3E%3Cuse xlink:href='%23D' class='B'/%3E%3Cuse xlink:href='%23D' class='C'/%3E%3Cuse xlink:href='%23E' class='B'/%3E%3Cuse xlink:href='%23E' class='C'/%3E%3Cuse xlink:href='%23F' class='B'/%3E%3Cuse xlink:href='%23F' class='C'/%3E%3Cuse xlink:href='%23G' class='B'/%3E%3Cuse xlink:href='%23G' class='C'/%3E%3Cuse xlink:href='%23H' class='B'/%3E%3Cuse xlink:href='%23H' class='C'/%3E%3Cuse xlink:href='%23I' class='B'/%3E%3Cuse xlink:href='%23I' class='C'/%3E%3C/svg%3E") } .c3 { background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' preserveAspectRatio='xMidYMid meet' width='10' height='10'%3E%3Cdefs%3E%3Cpath d='M0 0h9v2H0V0z' id='A'/%3E%3Cpath d='M0 8h9v2H0V8z' id='B'/%3E%3Cpath d='M3 4h6v2H3V4z' id='C'/%3E%3Cpath d='M7 1h3v3H7V1z' id='D'/%3E%3Cpath d='M7 6h3v3H7V6z' id='E'/%3E%3Cpath d='M7 0h2v9H7V0z' id='F'/%3E%3C/defs%3E%3Cuse xlink:href='%23A' fill='red'/%3E%3Cuse xlink:href='%23A' fill-opacity='0'/%3E%3Cuse xlink:href='%23B' fill='red'/%3E%3Cuse xlink:href='%23B' fill-opacity='0'/%3E%3Cuse xlink:href='%23C' fill='red'/%3E%3Cuse xlink:href='%23C' fill-opacity='0'/%3E%3Cuse xlink:href='%23D' fill='red'/%3E%3Cuse xlink:href='%23D' fill-opacity='0'/%3E%3Cuse xlink:href='%23E' fill='red'/%3E%3Cuse xlink:href='%23E' fill-opacity='0'/%3E%3Cuse xlink:href='%23F' fill='red'/%3E%3Cuse xlink:href='%23F' fill-opacity='0'/%3E%3C/svg%3E") } .c4 { background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' preserveAspectRatio='xMidYMid meet' width='10' height='10'%3E%3Cdefs%3E%3Cpath d='M6 0h3v10H6V0z' id='A'/%3E%3Cpath d='M0 4h10v2H0V4z' id='B'/%3E%3Cpath d='M1 2h3v3H1V2z' id='C'/%3E%3Cpath d='M2 0h3v2H2V0z' id='D'/%3E%3Cpath d='M2 1.23h2v4H2v-4z' id='E'/%3E%3C/defs%3E%3Cuse xlink:href='%23A' fill='navy'/%3E%3Cuse xlink:href='%23A' fill-opacity='0'/%3E%3Cuse xlink:href='%23B' fill='navy'/%3E%3Cuse xlink:href='%23B' fill-opacity='0'/%3E%3Cuse xlink:href='%23C' fill='navy'/%3E%3Cuse xlink:href='%23C' fill-opacity='0'/%3E%3Cuse xlink:href='%23D' fill='navy'/%3E%3Cuse xlink:href='%23D' fill-opacity='0'/%3E%3Cuse xlink:href='%23E' fill='navy'/%3E%3Cuse xlink:href='%23E' fill-opacity='0'/%3E%3C/svg%3E") } .c5 { background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' preserveAspectRatio='xMidYMid meet' width='10' height='10'%3E%3Cdefs%3E%3Cpath d='M0 0h10v2H0V0z' id='A'/%3E%3Cpath d='M0 0h3v6H0V0z' id='B'/%3E%3Cpath d='M0 4h9v2H0V4z' id='C'/%3E%3Cpath d='M0 8h9v2H0V8z' id='D'/%3E%3Cpath d='M7 5h3v4H7V5z' id='E'/%3E%3C/defs%3E%3Cuse xlink:href='%23A' fill='maroon'/%3E%3Cuse xlink:href='%23A' fill-opacity='0'/%3E%3Cuse xlink:href='%23B' fill='maroon'/%3E%3Cuse xlink:href='%23B' fill-opacity='0'/%3E%3Cuse xlink:href='%23C' fill='maroon'/%3E%3Cuse xlink:href='%23C' fill-opacity='0'/%3E%3Cuse xlink:href='%23D' fill='maroon'/%3E%3Cuse xlink:href='%23D' fill-opacity='0'/%3E%3Cuse xlink:href='%23E' fill='maroon'/%3E%3Cuse xlink:href='%23E' fill-opacity='0'/%3E%3C/svg%3E") } .c6 { background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' preserveAspectRatio='xMidYMid meet' width='10' height='10'%3E%3Cdefs%3E%3Cpath d='M1 0h8v2H1V0z' id='A'/%3E%3Cpath d='M1 4h8v2H1V4z' id='B'/%3E%3Cpath d='M1 8h8v2H1V8z' id='C'/%3E%3Cpath d='M0 1h3v8H0V1z' id='D'/%3E%3Cpath d='M7 5h3v4H7V5z' id='E'/%3E%3C/defs%3E%3Cuse xlink:href='%23A' fill='teal'/%3E%3Cuse xlink:href='%23A' fill-opacity='0'/%3E%3Cuse xlink:href='%23B' fill='teal'/%3E%3Cuse xlink:href='%23B' fill-opacity='0'/%3E%3Cuse xlink:href='%23C' fill='teal'/%3E%3Cuse xlink:href='%23C' fill-opacity='0'/%3E%3Cuse xlink:href='%23D' fill='teal'/%3E%3Cuse xlink:href='%23D' fill-opacity='0'/%3E%3Cuse xlink:href='%23E' fill='teal'/%3E%3Cuse xlink:href='%23E' fill-opacity='0'/%3E%3C/svg%3E") } .c7 { background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' preserveAspectRatio='xMidYMid meet' width='10' height='10'%3E%3Cstyle%3E%3C!%5BCDATA%5B.B%7Bfill-opacity:0%7D%5D%5D%3E%3C/style%3E%3Cdefs%3E%3Cpath d='M0 0h10v2H0V0z' id='A'/%3E%3Cpath d='M7 0h3v4H7V0z' id='B'/%3E%3Cpath d='M6 3.98h3v2H6v-2z' id='C'/%3E%3Cpath d='M4.99 6.01l3-.03.01 2-3 .03-.01-2z' id='D'/%3E%3Cpath d='M4 8h3v2H4V8z' id='E'/%3E%3Cpath d='M7 2h2v3H7V2z' id='F'/%3E%3Cpath d='M6 4.79h2v3H6v-3z' id='G'/%3E%3Cpath d='M5 6.7h2v3H5v-3z' id='H'/%3E%3C/defs%3E%3Cuse xlink:href='%23A'/%3E%3Cuse xlink:href='%23A' class='B'/%3E%3Cuse xlink:href='%23B'/%3E%3Cuse xlink:href='%23B' class='B'/%3E%3Cuse xlink:href='%23C'/%3E%3Cuse xlink:href='%23C' class='B'/%3E%3Cuse xlink:href='%23D'/%3E%3Cuse xlink:href='%23D' class='B'/%3E%3Cuse xlink:href='%23E'/%3E%3Cuse xlink:href='%23E' class='B'/%3E%3Cuse xlink:href='%23F'/%3E%3Cuse xlink:href='%23F' class='B'/%3E%3Cuse xlink:href='%23G'/%3E%3Cuse xlink:href='%23G' class='B'/%3E%3Cuse xlink:href='%23H'/%3E%3Cuse xlink:href='%23H' class='B'/%3E%3C/svg%3E") } .c8 { background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' preserveAspectRatio='xMidYMid meet' width='10' height='10'%3E%3Cstyle%3E%3C!%5BCDATA%5B.B%7Bfill:gray%7D.C%7Bfill-opacity:0%7D%5D%5D%3E%3C/style%3E%3Cdefs%3E%3Cpath d='M1 0h8v2H1V0z' id='A'/%3E%3Cpath d='M1 4h8v2H1V4z' id='B'/%3E%3Cpath d='M1 8h8v2H1V8z' id='C'/%3E%3Cpath d='M7 6h3v3H7V6z' id='D'/%3E%3Cpath d='M7 1h3v3H7V1z' id='E'/%3E%3Cpath d='M0 1h3v3H0V1z' id='F'/%3E%3Cpath d='M0 6h3v3H0V6z' id='G'/%3E%3Cpath d='M1 2.82h2v4H1v-4z' id='H'/%3E%3Cpath d='M7 2.82h2v4H7v-4z' id='I'/%3E%3C/defs%3E%3Cuse xlink:href='%23A' class='B'/%3E%3Cuse xlink:href='%23A' class='C'/%3E%3Cuse xlink:href='%23B' class='B'/%3E%3Cuse xlink:href='%23B' class='C'/%3E%3Cuse xlink:href='%23C' class='B'/%3E%3Cuse xlink:href='%23C' class='C'/%3E%3Cuse xlink:href='%23D' class='B'/%3E%3Cuse xlink:href='%23D' class='C'/%3E%3Cuse xlink:href='%23E' class='B'/%3E%3Cuse xlink:href='%23E' class='C'/%3E%3Cuse xlink:href='%23F' class='B'/%3E%3Cuse xlink:href='%23F' class='C'/%3E%3Cuse xlink:href='%23G' class='B'/%3E%3Cuse xlink:href='%23G' class='C'/%3E%3Cuse xlink:href='%23H' class='B'/%3E%3Cuse xlink:href='%23H' class='C'/%3E%3Cuse xlink:href='%23I' class='B'/%3E%3Cuse xlink:href='%23I' class='C'/%3E%3C/svg%3E") } .replay-cursor { position: absolute; pointer-events: none; height: 25px; width: 25px; display: none; background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 50 50' width='100%' height='100%'%3E%3Cpath fill='%23ffffff' stroke='%23000000' shape-rendering='geometricPrecision' stroke-linecap='round' stroke-linejoin='round' stroke-width='2px' d='M15,6l24,22.4l-11.6,1l6.7,14.6L29.7,46l-6.4-14.8L15,39L15,6'/%3E%3C/svg%3E"); } .smiley-frame { border: 1px solid rgba(128,128,128); } .smiley-container { width: 20px; height: 20px; background-repeat: no-repeat; background-position: 50% calc(50% + 1px); background-size: 17px; border-top: 2px solid rgb(255, 255, 255); border-left: 2px solid rgb(255, 255, 255); border-right: 2px solid rgba(128,128,128); border-bottom: 2px solid rgba(128,128,128); } .smiley-container-mousedown { background-position: calc(50% + 1px) calc(50% + 1px); padding: 1px 1px 2px 2px; border-right: 0px !important; border-bottom: 0px !important; border-top: 1px solid rgba(128,128,128) !important; border-left: 1px solid rgba(128,128,128) !important; } .scoreboard-content { display: flex; height: 100%; padding-left: 5px; padding-right: 7px; } .scoreboard-content-left { display: flex; flex: 1; justify-content: flex-start; align-items: center; } .scoreboard-content-middle { display: flex; flex: 1; justify-content: center; align-items: center; } .scoreboard-content-right { display: flex; flex: 1; justify-content: flex-end; align-items: center; } .scoreboard-digits-container { display: flex; height: 23px; width: 39px; background-color: rgba(0,0,0); border-top: 1px solid rgba(128,128,128); border-left: 1px solid rgba(128,128,128); border-right: 1px solid rgba(255,255,255); border-bottom: 1px solid rgba(255,255,255); } .scoreboard-digit-panel { height: 21px; width: 11px; display: grid; grid-auto-flow: row; gap: 0px; border: 1px solid transparent; } .scoreboard-digit-panel > div { width: 1px; height: 1px; } .x7 { background-color: rgba(128,0,0); } .y7 { background-color: transparent; } .red7 { background-color: red !important; }  .feature-content-frame { border-top: 1px solid rgba(227,227,227); border-left: 1px solid rgba(227,227,227); border-right: 1px solid rgba(105,105,105); border-bottom: 1px solid rgba(105,105,105); font-family: Tahoma, Geneva, sans-serif; font-size: 8pt; min-width: 146px; position: absolute; display: none; max-height: calc(100vh - 30px); max-width: calc(100vw - 4px); overflow-y: scroll; scrollbar-width: none; } .feature-content-frame::-webkit-scrollbar {  width: 0; height: 0; } .feature-content { border-top: 1px solid rgba(255,255,255); border-left: 1px solid rgba(255,255,255); border-right: 1px solid rgba(160,160,160); border-bottom: 1px solid rgba(160,160,160); background-color: rgba(240,240,240); padding: 5px; } .feature-content-enabled { display: block !important; }  .game-over-stats-frame { border-top: 1px solid rgba(227,227,227); border-left: 1px solid rgba(227,227,227); border-right: 1px solid rgba(105,105,105); border-bottom: 1px solid rgba(105,105,105); font-family: Tahoma, Geneva, sans-serif; font-size: 8pt; position: absolute; right: 0px;  display: none; } .game-over-stats { border-top: 1px solid rgba(255,255,255); border-left: 1px solid rgba(255,255,255); border-right: 1px solid rgba(160,160,160); border-bottom: 1px solid rgba(160,160,160); background-color: rgba(240,240,240); padding-right: 5px; padding-left: 5px; } .game-over-stats-enabled { display: block !important; } .game-over-stats > table { border-collapse: collapse; border-bottom: 1px solid #cccccc; } .game-over-stats > table > tbody tr td { border-top: 1px solid #cccccc; } .game-over-stats > table > tbody tr td:last-child { text-align: right; } .game-over-stats > table > tbody tr:hover { background-color: rgba(255, 255, 0, 0.1); }  .content-custom-game { width: 100%; height: 100%; display: none; grid-template-columns: auto auto; grid-template-rows: 30px 1fr; gap: 5px; } .content-custom-game-enabled { display: grid !important; } .content-custom-game-header { grid-column: 1 / 3; grid-row: 1; place-self: center; } .content-custom-game-settings { grid-column: 1; grid-row: 2; place-self: center; } .content-custom-game-settings > div { display: grid; grid-template-rows: auto auto auto; grid-template-columns: auto auto; gap: 5px 5px; } input.custom-game-field { width: 40px; } .content-custom-game-buttons { grid-column: 2; grid-row: 2; place-self: center; } .content-custom-game-buttons > button { width: 100%; padding: 0px; height: 25px; margin-bottom: 5px; } .content-custom-game-buttons > button:first-child { height: 40px; } .content-best-times { width: 100%; height: 100%; display: none; grid-template-columns: auto; grid-template-rows: 30px auto auto; gap: 5px; } .content-best-times-enabled { display: grid !important; } .content-best-times-header { grid-column: 1; grid-row: 1; place-self: center; } .content-best-times-table-container { grid-column: 1; grid-row: 2; place-self: center; } .content-best-times-table { display: grid; grid-template-rows: auto auto auto; grid-template-columns: auto auto auto; gap: 5px 5px; } .content-best-times-buttons { width: 100%; grid-column: 1; grid-row: 3; place-self: center; } .content-best-times-buttons > div { display: grid; } .content-best-times-buttons > div > button:nth-child(1) { grid-column: 1; grid-row: 1; place-self: center; white-space: nowrap; } .content-best-times-buttons > div > button:nth-child(2) { grid-column: 2; grid-row: 1; place-self: center; } .content-best-time-game { width: 100%; height: 100%; display: none; grid-template-columns: auto; grid-template-rows: auto auto auto; gap: 10px; } .content-best-time-game-enabled { display: grid !important; } .content-best-time-game-header { grid-column: 1; grid-row: 1; place-self: center; } .content-best-time-game-input { grid-column: 1; grid-row: 2; place-self: center; } .content-best-time-game-input > input { width: 111px; } .content-best-time-game-buttons { grid-column: 1; grid-row: 3; place-self: center; } .content-best-time-game-buttons > button { width: 52px; } .content-escape-button-wrap { position: absolute; width: 20px; top: 2px; left: calc(100% - 20px); } .content-escape-button { position: fixed; padding: 2px; font-family: verdana; font-size: 16px; color: rgb(102, 0, 153); text-decoration: underline; cursor: pointer; background-color: rgba(240,240,240); } .content-help-contents { display: none; } .content-help-contents-enabled { display: block; } .content-about { display: none; } .content-about-enabled { display: block; } .content-about-text-section { margin-top: 10px; } .content-about-header { font-size: 14px; font-weight: bold; } .content-help-contents-toc { margin-bottom: 4px; } .content-help-contents-toc > div:first-child { margin-top: 6px; } .content-help-contents-toc > div:not(:first-child) { margin-left: 10px; } .content-help-contents-toc > div:not(:first-child):hover { text-decoration: underline; } .content-help-contents-body { padding-bottom: 10px; } .content-help-minesweeper-overview > div:nth-child(1), .content-help-to-play-minesweeper > div:nth-child(1), .content-help-to-customize > div:nth-child(1), .content-help-strategies > div:nth-child(1) { font-size: 14px; font-weight: bold; margin-top: 16px; margin-bottom: 10px; } ol, ul { margin-top: 0px; margin-bottom: 0px; } li { margin-top: 4px; } .content-game-history { display: none; } .content-game-history-enabled { display: block; } .content-game-history-header div { display: inline-block; } .content-game-history-header-select-label { display: block !important; padding-bottom: 8px; font-size: 14px; font-weight: bold; }  .content-game-history-icons-wrap div { font-size: 16px; padding-right: 10px; } .content-game-history-icons-wrap div[data-game-history-action="game-history-save"]:hover, .content-game-history-icons-wrap div[data-game-history-action="game-history-import"]:hover { color: rgb(0, 0, 216); } .content-game-history-icons-wrap div[data-game-history-action="game-history-delete"]:hover { color: rgb(153, 0, 0); }  .content-game-history-table > table { border-collapse: collapse; } .content-game-history-table > table > thead th { text-align: center; } .content-game-history-table > table > thead th[scope=col]:hover { text-decoration: overline; cursor: pointer; } .content-game-history-table > table > tbody tr:nth-child(even) { background-color: #ffffff; } .content-game-history-table > table > tbody tr:nth-child(odd) { background-color: #f5f5f5; } .content-game-history-table > table > tbody tr td:nth-child(-n+4) { border: 1px solid #bbbbbb; } .content-game-history-table > table > tbody tr td:nth-child(n+5) { border: 1px solid #dddddd; } .content-game-history-table > table > tbody tr:hover { background-color: rgba(255, 255, 0, 0.2); } .content-game-history-table > table > tbody td { text-align: right; padding: 4px; } .content-game-history-table > table > tbody td:first-child { text-align: left; } .content-game-history-context { position: absolute; overflow: hidden; display: none; background-color: rgba(245,246,247); border: 1px solid rgba(161,197,233); } .content-game-history-context-enabled { display: block; } .content-game-history-context div { padding: 2px; font-family: 'Segoe UI'; font-size: 9pt; color: #000000; white-space: nowrap; } .content-game-history-context div:hover { background-color: rgba(209, 226, 242); } .content-game-history-context-row-enabled { background-color: rgba(209, 226, 242) !important; } .content-game-history-select { font-family: Consolas; }  .content-game-history-select { margin-right: 10px; margin-bottom: 5px; } .content-game-history-select option { border-bottom: 1px solid black; } .game-history-import-input { display: none; } .content-game-history-delete { display: none; } .content-game-history-delete div span:hover { cursor: pointer; text-decoration: underline; } .content-game-history-delete div[data-game-delete-action="game-delete-cancel"] { font-size: 1.3em; padding-top: 12px; color: rgb(102, 0, 153); } .content-game-history-delete div[data-game-delete-action="game-delete-board"] { font-size: 1.25em; padding-top: 4px; color: rgb(153, 0, 0); } .content-game-history-delete div[data-game-delete-action="game-delete-every-board"] { padding-top: 10px; color: rgb(153, 0, 0); } .content-game-history-delete-enabled { display: block; } .content-game-history-delete-enabled + div { display: none; } .content-game-history-no-history { display: none; } .content-game-history-no-history-enabled { display: block; } .content-game-history-no-history-enabled + div { display: none; } .sort-asc-icon, .sort-desc-icon { text-decoration: overline; } .sort-asc-icon:after { display:inline-block; text-decoration: none !important; content: '▴'; position: absolute; } .sort-desc-icon:after { display:inline-block; text-decoration: none !important; content: '▾'; position: absolute; } .col-hover { background-color: rgba(255, 255, 0, 0.1); } .content-settings { display: none; max-width: 175px; } .content-settings-enabled { display: block; } .content-settings-save-notification-wrap { position: absolute; width: 20px; top: 0px; right: calc(100% - 20px); } .content-settings-save-notification { position: fixed; background-color: rgba(240,240,240); height: 20px; padding-left: 4px; opacity: 1; } .content-settings-save-notification-transitioned { opacity: 0; transition: 2s ease-out; } .content-settings-header { padding-bottom: 2px; font-size: 14px; font-weight: bold; } .content-settings-item-label { padding-bottom: 6px; font-size: 12px; font-weight: bold; } .content-settings-item-body { padding-left: 2px; padding-top: 2px; } .content-settings-item-body label { display: inline-block; vertical-align: middle; padding-bottom: 4px; margin-bottom: 4px; } .content-settings-item-separator { margin-top: 14px; height: 1px; background-color: #cccccc; } .content-settings-cell-size-input { width: 40px; } .content-settings-cell-size > div { display: inline-block; } .content-settings-default-name-input, .content-settings-api-url { width: 90%; max-width: 200px; }  .display-none { display: none; } .display-block { display: block; } .display-inline-block { display: inline-block; } .text-decoration-none { text-decoration: none; } .text-decoration-underline { text-decoration: underline; } </style>
	<script type = "text/javascript"> var winmine = {}; winmine.load_board_settings = function() { const url_parameters = new URLSearchParams(window.location.search);  if(url_parameters.has('height') && url_parameters.has('width') && url_parameters.has('mines')) { winmine.height = parseInt(url_parameters.get('height')); winmine.width = parseInt(url_parameters.get('width')); winmine.mine_count = parseInt(url_parameters.get('mines')); } else { if (url_parameters.has('board_mines') | url_parameters.has('board_backup_mine') | url_parameters.has('time') | url_parameters.has('action_replay')) { alert('Error. Replay parameters all required together in url: \'height\' \'width\' \'mines\' \'board_mines\' \'board_backup_mine\' \'time\' and \'action_replay\''); return; } winmine.height = winmine.setting.beginner[0]; winmine.width = winmine.setting.beginner[1]; winmine.mine_count = winmine.setting.beginner[2]; }  if(url_parameters.has('board_mines') && url_parameters.has('board_backup_mine')) { document.getElementsByClassName('is-prev-game-menu-frame')[0].classList.add('is-prev-game-menu-frame-enabled'); winmine.mines = JSON.parse(url_parameters.get('board_mines')); winmine.backup_y = parseInt(url_parameters.get('board_backup_mine').split('_')[0], 10); winmine.backup_x = parseInt(url_parameters.get('board_backup_mine').split('_')[1], 10); winmine.play_again_mode = true; }  if(url_parameters.has('board_mines') && url_parameters.has('board_backup_mine') && url_parameters.has('time') && url_parameters.has('action_replay')) { winmine.update_game_over_menu(); winmine.mines = JSON.parse(url_parameters.get('board_mines')); winmine.backup_y = parseInt(url_parameters.get('board_backup_mine').split('_')[0], 10); winmine.backup_x = parseInt(url_parameters.get('board_backup_mine').split('_')[1], 10); winmine.game_duration = url_parameters.get('time'); winmine.action_replay = JSON.parse(url_parameters.get('action_replay'));   const question_actions = winmine.action_replay.filter(x => x[1]==='q'); winmine.setting.marks = (question_actions.length > 0) ? true : false; document.querySelector('.menu-item[data-name="Marks (?)"]').classList.add('menu-item-disabled'); winmine.replay_mode = true; winmine.replay_pause = true;  winmine.replay_autoplay = (url_parameters.has('autoplay')) ? (url_parameters.get('autoplay').toString() === 'true') : false; const play_pause = document.querySelector('.replay-menu-item[data-replay-menu="play-pause-button"]'); play_pause.classList.add('replay-menu-item-enabled'); const cursor = document.createElement('div'); cursor.classList.add('replay-cursor');  document.body.prepend(cursor);  const game_frame = document.createElement('div'); game_frame.classList.add('replay-mode-game-container-overlay'); document.body.prepend(game_frame); const window_frame = document.createElement('div'); window_frame.classList.add('replay-mode-html-body-overlay'); document.body.prepend(window_frame);  game_frame.addEventListener('mousedown', function() { window_frame.classList.add('replay-mode-html-body-overlay-enabled'); document.getElementsByClassName('menu-opener-item')[0].classList.add('color-red'); }); game_frame.addEventListener('mouseup', function() { window_frame.classList.remove('replay-mode-html-body-overlay-enabled'); document.getElementsByClassName('menu-opener-item')[0].classList.remove('color-red'); }); game_frame.addEventListener('mouseleave', function() { window_frame.classList.remove('replay-mode-html-body-overlay-enabled'); document.getElementsByClassName('menu-opener-item')[0].classList.remove('color-red'); }); } };  winmine.is_localStorage_working = function() { try { localStorage.setItem('test', 'test'); localStorage.removeItem('test'); return true; } catch(e) { return false; } }; winmine.wrap_localStorage = function() { if(!winmine.is_localStorage_working()) {  winmine.localStorage = { getItem: function(k) { return null; }, setItem: function(k, v) { return null; }, removeItem: function(k) { return null; }, keys: function() { return []; } } } else {  winmine.localStorage = { getItem: function(k) { return window.localStorage.getItem(k); }, setItem: function(k, v) { window.localStorage.setItem(k, v); }, removeItem: function(k) { window.localStorage.removeItem(k); }, keys: function() { return Object.keys({ ...window.localStorage }); } } } }; winmine.setting = {}; winmine.load_user_settings = function() { winmine.wrap_localStorage(); if(winmine.localStorage.getItem('setting_beginner_board') != null) { const setting = winmine.localStorage.getItem('setting_beginner_board').split(',').map(i => parseInt(i, 10)); winmine.setting.beginner = setting; winmine.setting.beginner2 = setting[0] + 'x' + setting[1] + '/' + setting[2]; } else { winmine.localStorage.setItem('setting_beginner_board', '8,8,10'); winmine.setting.beginner = [8,8,10]; winmine.setting.beginner2 = '8x8/10'; } if(winmine.localStorage.getItem('setting_cell_size_height') != null) { winmine.setting.y_px = parseInt(winmine.localStorage.getItem('setting_cell_size_height'), 10); } else { winmine.localStorage.setItem('setting_cell_size_height', '16'); winmine.setting.y_px = 16; } if(winmine.localStorage.getItem('setting_cell_size_width') != null) { winmine.setting.x_px = parseInt(winmine.localStorage.getItem('setting_cell_size_width'), 10); } else { winmine.localStorage.setItem('setting_cell_size_width', '16'); winmine.setting.x_px = 16; } if(winmine.localStorage.getItem('setting_player_name') != null) { winmine.setting.player_name = winmine.localStorage.getItem('setting_player_name'); } else { winmine.localStorage.setItem('setting_player_name', 'Anonymous'); winmine.setting.player_name = 'Anonymous'; } if(winmine.localStorage.getItem('setting_api_url') != null) { winmine.setting.api_url = winmine.localStorage.getItem('setting_api_url'); } else { winmine.localStorage.setItem('setting_api_url', 'minesweeper.win/api'); winmine.setting.api_url = 'minesweeper.win/api'; } winmine.setting.use_api = ((winmine.setting.api_url.trim().length > 4 && winmine.setting.api_url.includes('.')) || /^localhost/.test(winmine.setting.api_url)) ? true : false; if(winmine.localStorage.getItem('setting_extra_menu') != null) { winmine.setting.extra_menu = (winmine.localStorage.getItem('setting_extra_menu') === 'true') ? true : false; } else { winmine.localStorage.setItem('setting_extra_menu', 'true'); winmine.setting.extra_menu = true; } if(winmine.localStorage.getItem('setting_color') != null) { winmine.setting.color = (winmine.localStorage.getItem('setting_color') === 'true') ? true : false; } else { winmine.localStorage.setItem('setting_color', 'true'); winmine.setting.color = true; } if(winmine.localStorage.getItem('setting_marks') != null) { winmine.setting.marks = (winmine.localStorage.getItem('setting_marks') === 'true') ? true : false; } else { winmine.localStorage.setItem('setting_marks', 'true'); winmine.setting.marks = true; } if(winmine.localStorage.getItem('setting_custom_field') != null) { winmine.setting.custom_field = JSON.parse(winmine.localStorage.getItem('setting_custom_field')); } else { winmine.localStorage.setItem('setting_custom_field', JSON.stringify([8,8,10])); winmine.setting.custom_field = [8,8,10]; } };  winmine.sevseg = {}; winmine.sevseg.fill_seven_segment_container = function(seven_container_html_id) { winmine.sevseg.a_cells = [2,3,4,5,6,7,8,9,10,14,15,16,17,18,19,20,26,27,28,29,30]; winmine.sevseg.b_cells = [22,32,33,42,43,44,53,54,55,64,65,66,75,76,77,86,87,88,98,99,110]; winmine.sevseg.c_cells = [132,142,143,152,153,154,163,164,165,174,175,176,185,186,187,196,197,198,208,209,220]; winmine.sevseg.d_cells = [202,203,204,205,206,212,213,214,215,216,217,218,222,223,224,225,226,227,228,229,230]; winmine.sevseg.e_cells = [122,133,134,144,145,146,155,156,157,166,167,168,177,178,179,188,189,190,199,200,210]; winmine.sevseg.f_cells = [12,23,24,34,35,36,45,46,47,56,57,58,67,68,69,78,79,80,89,90,100]; winmine.sevseg.g_cells = [102,103,104,105,106,107,108,112,113,114,115,116,117,118,119,120,124,125,126,127,128,129,130]; winmine.sevseg.style1_cells = [3,5,7,9,12,15,17,19,22,24,27,29,32,34,36,42,44,46,54,56,58,64,66,68,76,78,80,86,88,90,98,100,103,105,107,110,113,115,117,119,122,125,127,129,132,134,142,144,146,152,154,156,164,166,168,174,176,178,186,188,190,196,198,200,203,205,208,210,213,215,217,220,223,225,227,229]; winmine.sevseg.style2_cells = [2,4,6,8,10,14,16,18,20,23,26,28,30,33,35,43,45,47,53,55,57,65,67,69,75,77,79,87,89,99,102,104,106,108,112,114,116,118,120,124,126,128,130,133,143,145,153,155,157,163,165,167,175,177,179,185,187,189,197,199,202,204,206,209,212,214,216,218,222,224,226,228,230]; const seven_height = 21; const seven_width = 11; const seven_container = document.getElementById(seven_container_html_id); for (let i = 1; i < ((seven_height*seven_width)+1); i += 1) { const cell_div = document.createElement('div'); if(winmine.sevseg.a_cells.includes(i)) { cell_div.classList.add('A7'); } if(winmine.sevseg.b_cells.includes(i)) { cell_div.classList.add('B7'); } if(winmine.sevseg.c_cells.includes(i)) { cell_div.classList.add('C7'); } if(winmine.sevseg.d_cells.includes(i)) { cell_div.classList.add('D7'); } if(winmine.sevseg.e_cells.includes(i)) { cell_div.classList.add('E7'); } if(winmine.sevseg.f_cells.includes(i)) { cell_div.classList.add('F7'); } if(winmine.sevseg.g_cells.includes(i)) { cell_div.classList.add('G7'); } if(winmine.sevseg.style1_cells.includes(i)) { cell_div.classList.add('x7'); } if(winmine.sevseg.style2_cells.includes(i)) { cell_div.classList.add('y7'); } seven_container.append(cell_div); } const grid_template_rows = 'auto '.repeat(seven_height); const grid_template_columns = 'auto '.repeat(seven_width); seven_container.style.setProperty('grid-template-rows', grid_template_rows); seven_container.style.setProperty('grid-template-columns', grid_template_columns); }; winmine.sevseg.get_segment_array = function(c) { if(c==='0') { return(['A','B','C','D','E','F']); } if(c==='1') { return(['B','C']); } if(c==='2') { return(['A','B','D','E','G']); } if(c==='3') { return(['A','B','C','D','G']); } if(c==='4') { return(['B','C','F','G']); } if(c==='5') { return(['A','C','D','F','G']); } if(c==='6') { return(['A','C','D','E','F','G']); } if(c==='7') { return(['A','B','C']); } if(c==='8') { return(['A','B','C','D','E','F','G']); } if(c==='9') { return(['A','B','C','D','F','G']); } if(c==='-') { return(['G']); } }; winmine.insert_seven_segment_elements = function() { const seven_elements = ['counter0','counter1','counter2', 'timer0','timer1','timer2']; for (let i = 0; i < seven_elements.length; i += 1) { winmine.sevseg.fill_seven_segment_container(seven_elements[i]); } }; winmine.sevseg.assign_segments = function(container_html_id, position, new_number) { const counter_id = container_html_id + position; document.querySelectorAll('#' + counter_id + ' > div').forEach(function (element) { element.classList.remove('red7'); }); const segment_array = winmine.sevseg.get_segment_array(new_number); const css_selector = '#' + counter_id + ' > .' + segment_array.join('7, #' + counter_id + ' > .').concat('7'); document.querySelectorAll(css_selector).forEach(function (element) { element.classList.add('red7'); }); }; winmine.init_counter = function(mine_number) { mine_number = mine_number.toString().padStart(3, 0); for(let i = 0; i < mine_number.length; i += 1) { winmine.sevseg.assign_segments('counter', i, mine_number.charAt(i)) } winmine.counter = mine_number; }; winmine.init_timer = function() { const timer_value = '000'; for(let i = 0; i < timer_value.length; i += 1) { winmine.sevseg.assign_segments('timer', i, timer_value.charAt(i)) } }; winmine.set_mine_counter = function(remaining_mines) { if(remaining_mines > 999) { remaining_mines = 999; } remaining_mines = remaining_mines.toString(); if(remaining_mines.charAt(0) === '-') { remaining_mines = '-'.concat(remaining_mines.substring(1).padStart(2, '0')); } else { remaining_mines = remaining_mines.padStart(3, '0'); } for(let i = 0; i < remaining_mines.length; i += 1) { if(remaining_mines.charAt(i) === winmine.counter.charAt(i)) { continue; } else { winmine.sevseg.assign_segments('counter', i, remaining_mines.charAt(i)) } } winmine.counter = remaining_mines; }; winmine.start_timer = function() { this.sleep = function(ms) { return new Promise(resolve => setTimeout(resolve, ms)); }; this.onmessage = async function(e) { let start_seconds = e.data; let delay_ms = parseInt(start_seconds) * 1000;  if(start_seconds.match(/\./g)) { const second_fraction = start_seconds.split('.'); postMessage(second_fraction[0]); start_seconds = parseInt(second_fraction[0]) + 1 + ''; const second_sub_ms = second_fraction[1]; await sleep(1000 - parseInt(second_sub_ms, 10)); delay_ms = parseInt(second_fraction[0] + second_fraction[1]); }  postMessage(start_seconds); while(true) { await sleep(1000); let since_start = performance.now();  since_start = since_start + delay_ms; since_start = Math.round(since_start/1000); postMessage(since_start.toString()); } }; }; winmine.start_timer_function_text = '(' + winmine.start_timer.toString() + ')()'; winmine.start_timer_function_blob = new Blob([winmine.start_timer_function_text], {type: 'application/javascript'}); winmine.start_timer_worker = function(start_value) { winmine.timer_worker = new Worker(URL.createObjectURL(winmine.start_timer_function_blob)); winmine.timer_worker.onmessage = function(event) { winmine.set_timer(event.data); }; winmine.timer_worker.postMessage(start_value); }; winmine.timer = '000'; winmine.set_timer = function(new_timer) { new_timer = new_timer.padStart(3, 0); for(let i = 0; i < 3; i += 1) { if(new_timer.charAt(i) === winmine.timer.charAt(i)) { continue; } else { winmine.sevseg.assign_segments('timer', i, new_timer.charAt(i)) } } winmine.timer = new_timer; if(new_timer === '999') { winmine.timer_worker.terminate(); } }; winmine.post_to_api = async function(data) { try {  const api_url = (!/^https:\/\//.test(winmine.setting.api_url) && !/^localhost/.test(winmine.setting.api_url)) ? 'https://' + winmine.setting.api_url.replace(/http:\/\//, '') : winmine.setting.api_url; const meta = { browser_user_agent: navigator.userAgent, browser_language: navigator.language, browser_href: window.location.href,  browser_referrer_origin: document.referrer.split(/\?height=|\?width=|\?mines=/)[0] }; const post_data = Object.assign({}, meta, data); fetch(api_url, { method: 'POST', mode: 'no-cors', headers: { 'Content-Type': 'application/json', }, body: JSON.stringify(post_data), }) .then(result => {  }) .catch((e) => {  }); } catch(e) {  } };    winmine.save_record_name = function(name) {  const storage_key_base = ((winmine.game_win) ? 'w' : 'l') + '|' + ('' + winmine.height + 'x' + winmine.width + '/' + winmine.mine_count) + '|' + winmine._3bv + '|' + winmine.game_clicks.filter(x => ['l'].includes(x[1])).length + '|' + winmine.game_clicks.filter(x => ['m'].includes(x[1])).length + '|' + winmine.game_clicks.filter(x => ['f','q','c'].includes(x[1])).length + '|' + winmine.flagged_cells.length + '|' + winmine.game_duration + '|' + winmine.game_end_time; const storage_key_old = storage_key_base + '|' + winmine.setting.player_name; const storage_key = storage_key_base + '|' + name.replace(/\||\r|\n|\t/g,'');  const storage_value = JSON.stringify([winmine.mines_orig, (winmine.backup_y+'_'+winmine.backup_x), winmine.game_clicks]); winmine.localStorage.removeItem(storage_key_old); winmine.localStorage.setItem(storage_key, storage_value);  if(winmine.setting.use_api) {  const storage_key_array = storage_key.split('|'); const storage_key_named = Object.keys(winmine.localStorage_key_items).reduce((obj, key, index) => ({ ...obj, [key]: storage_key_array[index] }), {}); const storage_value_array = JSON.parse(storage_value); const storage_value_named = Object.keys(winmine.localStorage_value_items).reduce((obj, key, index) => ({ ...obj, [key]: storage_value_array[index] }), {}); const winmine_version = (document.head.querySelector("meta[name='version']") == null) ? 'unknown' : document.head.querySelector("meta[name='version']").content; const winmine_info = { app: 'winmine', version: winmine_version }; const api_data = Object.assign({}, winmine_info, storage_key_named, storage_value_named); winmine.post_to_api(api_data); } return(storage_key); }; winmine.save_record = function() {  const saved_key_name = winmine.save_record_name(winmine.setting.player_name); if(winmine.game_win) { const game_config = '' + winmine.height + 'x' + winmine.width + '/' + winmine.mine_count;  let keys_to_search = winmine.localStorage.keys().filter(function(x) { return ('w' + x.split('|')[winmine.i('board')] === 'w' + game_config) & (x !== saved_key_name);  }); if([winmine.setting.beginner2, '16x16/40', '16x30/99'].includes(game_config)) { let best_times_cleared_on = winmine.localStorage.getItem('setting_best_times_cleared_on'); best_times_cleared_on = (best_times_cleared_on === null) ? Date.parse('1990-01-01') : Date.parse(best_times_cleared_on); keys_to_search = keys_to_search.filter(x => Date.parse(x.split('|')[winmine.i('timestamp')]) > best_times_cleared_on); } let records_beat = 0; keys_to_search.forEach(function(x) { if(winmine.game_duration < parseInt(x.split('|')[winmine.i('duration')], 10)) { records_beat++; } }); const is_best_time = records_beat === keys_to_search.length; if(is_best_time) { let difficulty = winmine.height + 'x' + winmine.width + '/' + winmine.mine_count + ' '; if(game_config === winmine.setting.beginner2) { difficulty = 'Beginner'; } if(game_config === '16x16/40') { difficulty = 'Intermediate'; } if(game_config === '16x30/99') { difficulty = 'Expert'; } document.getElementsByClassName('content-best-time-game-header')[0].innerHTML = 'You have the fastest time\nfor ' + difficulty + ' level.\nPlease enter your name.'; document.getElementsByClassName('feature-content-frame')[0].classList.add('feature-content-enabled'); document.getElementsByClassName('content-best-time-game')[0].classList.add('content-best-time-game-enabled'); document.querySelector('.content-best-time-game-input > input').select(); } }  let losses_keys = winmine.localStorage.keys().filter(item => item.substring(0,2) === 'l|'); if(losses_keys.length > 50) { let losses_ordered = losses_keys.map(item => item.split('|')[winmine.i('timestamp')]).sort().slice(0, 40); losses_keys.forEach(function(item) { if(losses_ordered.includes(item.split('|')[winmine.i('timestamp')])) { winmine.localStorage.removeItem(item); } }); } }; winmine.get_game_duration = function(round_to) { performance.mark('game_now'); performance.measure('gm', 'game_start', 'game_now'); const duration = (performance.getEntriesByName('gm')[0].duration / 1000).toFixed(round_to); performance.clearMarks('game_now'); performance.clearMeasures('gm'); return(duration); }; winmine.id_as_y_x = function(id_string) { const as_array = id_string.substring(5).split('_'); return([parseInt(as_array[0], 10), parseInt(as_array[1], 10)]); };  winmine.get_array_of_neighbor_ids = function(y, x) { const neighbor_ids = []; if(y!=0 && x!=0) { neighbor_ids.push((y-1)+'_'+(x-1)); } if(y!=0) { neighbor_ids.push((y-1)+'_'+(x)); } if(y!=0 && x!=winmine.x_ceil) { neighbor_ids.push((y-1)+'_'+(x+1)); } if(x!=0) { neighbor_ids.push((y)+'_'+(x-1)); } if(x!=winmine.x_ceil) { neighbor_ids.push((y)+'_'+(x+1)); } if(y!=winmine.y_ceil && x!=0) { neighbor_ids.push((y+1)+'_'+(x-1)); } if(y!=winmine.y_ceil) { neighbor_ids.push((y+1)+'_'+(x)); } if(y!=winmine.y_ceil && x!=winmine.x_ceil) { neighbor_ids.push((y+1)+'_'+(x+1)); } return(neighbor_ids); };  winmine.random = function(min, max) { const range = max - min + 1; const bits_needed = Math.ceil(Math.log2(range)); const bytes_needed = Math.ceil(bits_needed / 8); const cutoff = Math.floor((256 ** bytes_needed) / range) * range; const bytes = new Uint8Array(bytes_needed); let value; do { crypto.getRandomValues(bytes); value = bytes.reduce((acc, x, n) => acc + x * 256 ** n, 0); } while (value >= cutoff) { return min + value % range; } };  winmine.simplex_open = function(clientSeed) { const SQ3 = 1.7320508075688772; const toNums = (s) => s.split(",").map(s => new Uint8Array(s.split("").map(v => Number(v)))); const decode = (m, r, s) => new Int8Array(s.split("").map(v => parseInt(v, r) + m)); const NORM_2D = 1.0 / 47.0; const SQUISH_2D = (SQ3 - 1) / 2; const STRETCH_2D = (1 / SQ3 - 1) / 2; let base2D = toNums("110101000,110101211"); const gradients2D = decode(-5, 11, "a77a073aa3700330"); let lookupPairs2D = () => new Uint8Array([0,1, 1,0, 4,1, 17,0, 20,2, 21,2, 22,5, 23, 5,26, 4,39, 3,42, 4,43, 3]); let p2D = decode(-1, 4, "112011021322233123132111"); const setOf = (count, cb = (i)=>i) => { let a = [], i = 0; while (i < count) { a.push(cb(i ++)) } return a }; const doFor = (count, cb) => { let i = 0; while (i < count && cb(i++) !== true); }; function shuffleSeed(seed, count = 1){ seed = seed * 1664525 + 1013904223 | 0; count -= 1; return count > 0 ? shuffleSeed(seed, count) : seed; } const types = { _2D : { base : base2D, squish : SQUISH_2D, dimensions : 2, pD : p2D, lookup : lookupPairs2D, }, }; function createContribution(type, baseSet, index) { let i = 0; const multiplier = baseSet[index ++]; const c = { next : undefined }; while(i < type.dimensions){ const axis = ("xyzw")[i]; c[axis + "sb"] = baseSet[index + i]; c["d" + axis] = - baseSet[index + i++] - multiplier * type.squish; } return c; }; function createLookupPairs(lookupArray, contributions){ const a = lookupArray(); const res = new Map(); for (let i = 0; i < a.length; i += 2) { res.set(a[i], contributions[a[i + 1]]) } return res; }; function createContributionArray(type) { const conts = []; const d = type.dimensions; const baseStep = d * d; let k, i = 0; while (i < type.pD.length) { const baseSet = type.base[type.pD[i]]; let previous, current; k = 0; do { current = createContribution(type, baseSet, k); if (!previous) { conts[i / baseStep] = current } else { previous.next = current } previous = current; k += d + 1; } while(k < baseSet.length); current.next = createContribution(type, type.pD, i + 1); i += baseStep; } const result = [conts, createLookupPairs(type.lookup, conts)]; type.base = undefined; type.lookup = undefined; return result; }; const [contributions2D, lookup2D] = createContributionArray(types._2D); const perm = new Uint8Array(256); const perm2D = new Uint8Array(256); const source = new Uint8Array(setOf(256, i => i)); let seed = shuffleSeed(clientSeed, 3); doFor(256, i => { i = 255 - i; seed = shuffleSeed(seed); let r = (seed + 31) % (i + 1); r += r < 0 ? i + 1 : 0; perm[i] = source[r]; perm2D[i] = perm[i] & 0x0E; source[r] = source[i]; }); base2D = undefined; lookupPairs2D = undefined; p2D = undefined; return { noise2D(x, y) { const pD = perm2D; const p = perm; const g = gradients2D; const stretchOffset = (x + y) * STRETCH_2D; const xs = x + stretchOffset, ys = y + stretchOffset; const xsb = Math.floor(xs), ysb = Math.floor(ys); const squishOffset = (xsb + ysb) * SQUISH_2D; const dx0 = x - (xsb + squishOffset), dy0 = y - (ysb + squishOffset); let c = (() => { const xins = xs - xsb, yins = ys - ysb; const inSum = xins + yins; return lookup2D.get( (xins - yins + 1) | (inSum << 1) | ((inSum + yins) << 2) | ((inSum + xins) << 4) ); })(); let i, value = 0; while (c !== undefined) { const dx = dx0 + c.dx; const dy = dy0 + c.dy; let attn = 2 - dx * dx - dy * dy; if (attn > 0) { i = pD[(p[(xsb + c.xsb) & 0xFF] + (ysb + c.ysb)) & 0xFF]; attn *= attn; value += attn * attn * (g[i++] * dx + g[i] * dy); } c = c.next; } return value * NORM_2D; }, } };  winmine.get_neighbor_mine_freq = function(y, x) { let num = 0; if(y!=0 && x!=0 && winmine.cells[y-1][x-1]==9) { num++; } if(y!=0 && winmine.cells[y-1][x]==9) { num++; } if(y!=0 && x!=winmine.x_ceil && winmine.cells[y-1][x+1]==9) { num++; } if(x!=0 && winmine.cells[y][x-1]==9) { num++; } if(x!=winmine.x_ceil && winmine.cells[y][x+1]==9) { num++; } if(y!=winmine.y_ceil && x!=0 && winmine.cells[y+1][x-1]==9) { num++; } if(y!=winmine.y_ceil && winmine.cells[y+1][x]==9) { num++; } if(y!=winmine.y_ceil && x!=winmine.x_ceil && winmine.cells[y+1][x+1]==9) { num++; } return(num); };  winmine.update_neighbors = function(y, x) { if(y!=0 && x!=0 && winmine.cells[y-1][x-1]!=9) { winmine.cells[y-1][x-1] = winmine.get_neighbor_mine_freq(y-1,x-1); } if(y!=0 && winmine.cells[y-1][x]!=9) { winmine.cells[y-1][x] = winmine.get_neighbor_mine_freq(y-1,x); } if(y!=0 && x!=winmine.x_ceil && winmine.cells[y-1][x+1]!=9) { winmine.cells[y-1][x+1] = winmine.get_neighbor_mine_freq(y-1,x+1); } if(x!=0 && winmine.cells[y][x-1]!=9) { winmine.cells[y][x-1] = winmine.get_neighbor_mine_freq(y,x-1); } if(x!=winmine.x_ceil && winmine.cells[y][x+1]!=9) { winmine.cells[y][x+1] = winmine.get_neighbor_mine_freq(y,x+1); } if(y!=winmine.y_ceil && x!=0 && winmine.cells[y+1][x-1]!=9) { winmine.cells[y+1][x-1] = winmine.get_neighbor_mine_freq(y+1,x-1); } if(y!=winmine.y_ceil && winmine.cells[y+1][x]!=9) { winmine.cells[y+1][x] = winmine.get_neighbor_mine_freq(y+1,x); } if(y!=winmine.y_ceil && x!=winmine.x_ceil && winmine.cells[y+1][x+1]!=9) { winmine.cells[y+1][x+1] = winmine.get_neighbor_mine_freq(y+1,x+1); } };  winmine.flood_fill = function(y, x) { winmine.cell_count--; const value = winmine.c[y][x]; winmine.c[y][x] = -1; if(value == 0) { if(y!=0 && x!=0 && winmine.c[y-1][x-1]!=-1) { winmine.flood_fill(y-1,x-1); } if(y!=0 && winmine.c[y-1][x]!=-1) { winmine.flood_fill(y-1,x); } if(y!=0 && x!=winmine.x_ceil && winmine.c[y-1][x+1]!=-1) { winmine.flood_fill(y-1,x+1); } if(x!=0 && winmine.c[y][x-1]!=-1) { winmine.flood_fill(y,x-1); } if(x!=winmine.x_ceil && winmine.c[y][x+1]!=-1) { winmine.flood_fill(y,x+1); } if(y!=winmine.y_ceil && x!=0 && winmine.c[y+1][x-1]!=-1) { winmine.flood_fill(y+1,x-1); } if(y!=winmine.y_ceil && winmine.c[y+1][x]!=-1) { winmine.flood_fill(y+1,x); } if(y!=winmine.y_ceil && x!=winmine.x_ceil && winmine.c[y+1][x+1]!=-1) { winmine.flood_fill(y+1,x+1); } } }; winmine.set_3bv = function() { winmine.c = JSON.parse(JSON.stringify(winmine.cells));  winmine.cell_count = (winmine.height * winmine.width) - winmine.mine_count; winmine._3bv = 0; for (let i = 0; i < winmine.height; ++i) { for (let j = 0; j < winmine.width; ++j) { if(winmine.c[i][j] == 0) { winmine._3bv++; winmine.flood_fill(i, j); } } } winmine._3bv = winmine.cell_count + winmine._3bv; delete winmine.c; delete winmine.cell_count; }; winmine.clear_mine_field = function(y, x) { const value = winmine.cells[y][x]; if(value > 8) { return; } winmine.cleared++; winmine.cells[y][x] = -1; const cell_element = document.getElementById('cell_'+y+'_'+x); if(value > 0) { cell_element.classList.add('clear'); cell_element.classList.add('c' + value); return; } if(value == 0) { cell_element.classList.add('clear'); if(y!=0 && x!=0 && winmine.cells[y-1][x-1]!=-1) { winmine.clear_mine_field(y-1,x-1); } if(y!=0 && winmine.cells[y-1][x]!=-1) { winmine.clear_mine_field(y-1,x); } if(y!=0 && x!=winmine.x_ceil && winmine.cells[y-1][x+1]!=-1) { winmine.clear_mine_field(y-1,x+1); } if(x!=0 && winmine.cells[y][x-1]!=-1) { winmine.clear_mine_field(y,x-1); } if(x!=winmine.x_ceil && winmine.cells[y][x+1]!=-1) { winmine.clear_mine_field(y,x+1); } if(y!=winmine.y_ceil && x!=0 && winmine.cells[y+1][x-1]!=-1) { winmine.clear_mine_field(y+1,x-1); } if(y!=winmine.y_ceil && winmine.cells[y+1][x]!=-1) { winmine.clear_mine_field(y+1,x); } if(y!=winmine.y_ceil && x!=winmine.x_ceil && winmine.cells[y+1][x+1]!=-1) { winmine.clear_mine_field(y+1,x+1); } } }; winmine.create_mine_field = function() {  winmine.cells = []; const cell_container = document.getElementsByClassName('cell-container')[0]; for (let row = 0; row < winmine.height; row += 1) { winmine.cells.push(row); winmine.cells[row] = []; for (let col = 0; col < winmine.width; col += 1) { winmine.cells[row].push(0);  const cell_div = document.createElement('div'); cell_div.id = 'cell_'+row+'_'+col; cell_container.append(cell_div); } }  const grid_template_rows = 'auto '.repeat(winmine.height); const grid_template_columns = 'auto '.repeat(winmine.width); cell_container.style.setProperty('grid-template-rows', grid_template_rows); cell_container.style.setProperty('grid-template-columns', grid_template_columns);  winmine.mines = (winmine.replay_mode | winmine.play_again_mode) ? winmine.mines : [];  winmine.y_ceil = winmine.height - 1; winmine.x_ceil = winmine.width - 1; for(let mine = 0; winmine.mines.length < (winmine.mine_count+1); mine += 1) {  let y = winmine.random(0,(winmine.height-1)); let x = winmine.random(0,(winmine.width-1)); y = (winmine.replay_mode | winmine.play_again_mode) ? parseInt(winmine.mines[mine].split('_')[0]) : y; x = (winmine.replay_mode | winmine.play_again_mode) ? parseInt(winmine.mines[mine].split('_')[1]) : x; if(!winmine.replay_mode & !winmine.play_again_mode) { if(winmine.mines.includes(y+'_'+x)) { continue; } else { if(winmine.mines.length == (winmine.mine_count)) {  winmine.backup_y = y; winmine.backup_x = x; break; } else { winmine.mines.push(y+'_'+x); } } } if(winmine.cells[y][x] != 9) { winmine.cells[y][x] = 9;  if(y!=0 && x!=0 && winmine.cells[y-1][x-1]!=9) { winmine.cells[y-1][x-1]++; } if(y!=0 && winmine.cells[y-1][x]!=9) { winmine.cells[y-1][x]++; } if(y!=0 && x!=winmine.x_ceil && winmine.cells[y-1][x+1]!=9) { winmine.cells[y-1][x+1]++; } if(x!=0 && winmine.cells[y][x-1]!=9) { winmine.cells[y][x-1]++; } if(x!=winmine.x_ceil && winmine.cells[y][x+1]!=9) { winmine.cells[y][x+1]++; } if(y!=winmine.y_ceil && x!=0 && winmine.cells[y+1][x-1]!=9) { winmine.cells[y+1][x-1]++; } if(y!=winmine.y_ceil && winmine.cells[y+1][x]!=9) { winmine.cells[y+1][x]++; } if(y!=winmine.y_ceil && x!=winmine.x_ceil && winmine.cells[y+1][x+1]!=9) { winmine.cells[y+1][x+1]++; } } if((winmine.replay_mode | winmine.play_again_mode) & (mine >= (winmine.mine_count-1))) { break; } } winmine.mines_orig = winmine.mines.slice(0);  }; winmine.choose_cell = function(cell_html_id) { if(!winmine.game_started) { performance.mark('game_start'); winmine.start_timer_worker('1');  winmine.game_started = true;  if(winmine.flagged_cells.length !== 0) { winmine.game_clicks = winmine.flagged_cells.map(item=>['-1','f',item]); } if(winmine.marked_cells !== 0) { const new_actions = winmine.marked_cells.map(item=>['-1','q',item]); winmine.game_clicks = winmine.game_clicks.concat(new_actions); } } const cell_element = document.getElementById(cell_html_id); if(cell_element.classList.contains('clear')) { return; } cell_element.classList.add('clear'); const coords = winmine.id_as_y_x(cell_html_id); const y = coords[0]; const x = coords[1]; const cell_id_string = y+'_'+x;  if(winmine.cells[y][x] == 9) { if(winmine.cleared > 0) { winmine.game_duration = (winmine.replay_mode) ? winmine.game_duration : winmine.get_game_duration(3); winmine.timer_worker.terminate(); winmine.game_over = true; winmine.game_win = false; winmine.game_end_time = (new Date(Date.now())).toISOString(); cell_element.classList.add('triggered-mine'); const smiley_frame = document.getElementsByClassName('smiley-container')[0]; smiley_frame.classList.remove('face-neutral'); smiley_frame.classList.add('face-game-over'); for (let i = 0; i < winmine.mines.length; i += 1) { if(!winmine.flagged_cells.includes(winmine.mines[i])) { const mine_cell = document.getElementById('cell_' + winmine.mines[i]); mine_cell.classList.remove('question'); mine_cell.classList.add('clear','mine'); } } const incorrectly_flagged = winmine.flagged_cells.filter(id => !winmine.mines.includes(id)); for (let i = 0; i < incorrectly_flagged.length; i += 1) { const elem_id = incorrectly_flagged[i]; const elem = document.getElementById('cell_' + elem_id); elem.classList.remove('flag'); elem.classList.add('notmine'); } document.getElementsByClassName('scoreboard-digits-container')[1].title = winmine.game_duration; winmine.update_game_over_menu(); if(!winmine.replay_mode) { winmine.save_record(); } return; } else {  const idx = winmine.mines.indexOf(cell_id_string); winmine.mines[idx] = winmine.backup_y+'_'+winmine.backup_x;  winmine.cells[winmine.backup_y][winmine.backup_x] = 9; winmine.cells[y][x] = winmine.get_neighbor_mine_freq(y, x);  winmine.update_neighbors(y, x); winmine.update_neighbors(winmine.backup_y, winmine.backup_x);  winmine.set_3bv(); } }  winmine.clear_mine_field(y, x);  if(winmine.cleared >= (winmine.height*winmine.width-winmine.mine_count)) { winmine.game_duration = (winmine.replay_mode) ? winmine.game_duration : winmine.get_game_duration(3); winmine.timer_worker.terminate(); winmine.game_over = true; winmine.game_win = true; winmine.game_end_time = (new Date(Date.now())).toISOString(); const smiley_frame = document.getElementsByClassName('smiley-container')[0]; smiley_frame.classList.remove('face-neutral'); smiley_frame.classList.add('face-game-win'); const unflagged_mines = winmine.mines.filter(m => !winmine.flagged_cells.includes(m)); for (const unflagged_mine of unflagged_mines) { const elem = document.getElementById('cell_' + unflagged_mine); elem.classList.add('flag'); } document.getElementsByClassName('scoreboard-digits-container')[1].title = winmine.game_duration; winmine.set_mine_counter(0); if(!winmine.replay_mode) { winmine.save_record(); } winmine.update_game_over_menu(); } }; winmine.flag_cell = function(cell_html_id) { const cell_id_string = cell_html_id.substring(5); const coords = winmine.id_as_y_x(cell_html_id); const cell_element = document.getElementById(cell_html_id); const is_flagged = cell_element.classList.contains('flag'); const is_marked = cell_element.classList.contains('question') && winmine.setting.marks; let action_code; if(!is_flagged && !is_marked) { cell_element.classList.add('flag'); winmine.flagged_cells.push(cell_id_string); action_code = 'f';  if(winmine.cells[coords[0]][coords[1]] != 9) { winmine.cells[coords[0]][coords[1]] = 10; } } else if(is_flagged) { cell_element.classList.remove('flag'); winmine.flagged_cells = winmine.flagged_cells.filter(item => item !== cell_id_string); if(winmine.setting.marks) { cell_element.classList.add('question'); winmine.marked_cells.push(cell_id_string); action_code = 'q'; } else { action_code = 'c'; } if(winmine.cells[coords[0]][coords[1]] != 9) { winmine.cells[coords[0]][coords[1]] = winmine.get_neighbor_mine_freq(coords[0],coords[1]); } } else if(is_marked) { cell_element.classList.remove('question'); action_code = 'c'; winmine.marked_cells = winmine.marked_cells.filter(item => item !== cell_id_string); } if(winmine.game_clicks.length !== 0) { winmine.game_clicks.push([winmine.get_game_duration(1), action_code, cell_id_string]); } winmine.set_mine_counter(winmine.mine_count - winmine.flagged_cells.length); };  winmine.set_file_menu_item_marks = function() { let game_is_custom = true; if(winmine.height === winmine.setting.beginner[0] && winmine.width === winmine.setting.beginner[1] && winmine.mine_count === winmine.setting.beginner[2]) { document.querySelector('.menu-item[data-name=\'Beginner\']').classList.add('menu-mark'); game_is_custom = false; } if(winmine.height === 16 && winmine.width === 16 && winmine.mine_count === 40) { document.querySelector('.menu-item[data-name=\'Intermediate\']').classList.add('menu-mark'); game_is_custom = false; } if(winmine.height === 16 && winmine.width === 30 && winmine.mine_count === 99) { document.querySelector('.menu-item[data-name=\'Expert\']').classList.add('menu-mark'); game_is_custom = false; } if(game_is_custom) { document.querySelector('.menu-item[data-name=\'Custom...\']').classList.add('menu-mark'); } if(winmine.setting.marks) { document.querySelector('.menu-item[data-name=\'Marks (?)\']').classList.add('menu-mark'); } if(winmine.setting.color) { document.querySelector('.menu-item[data-name=\'Color\']').classList.add('menu-mark'); } else { document.documentElement.style.setProperty('filter', 'grayscale(100%)'); } if(winmine.setting.extra_menu) { document.querySelector('.menu-item[data-name=\'Extra Menu*\']').classList.add('menu-mark'); document.getElementsByClassName('extra-menu-frame')[0].classList.add('display-inline-block'); document.getElementsByClassName('extra-replay-menu-frame')[0].classList.add('display-inline-block'); } }; winmine.get_most_common_item_in_array = function(arr) { let max_count = 1; let freq = 0; let max_item; for (let i=0; i<arr.length; i++) { for (let j=i; j<arr.length; j++) { if (arr[i] == arr[j]) { freq++; } if (max_count < freq) { max_count = freq; max_item = arr[i]; } } freq = 0; } return(max_item); };  winmine.sort_table = function(tbody, index) { winmine.sort_table_col_idx = index; if(winmine.sort_table_asc) { winmine.sort_table_asc = false; } else { winmine.sort_table_asc = true; } const row_list = []; let tbody_length = tbody.rows.length; for(let i = 0; i < tbody_length; i++){ row_list[i] = tbody.rows[i]; } row_list.sort(winmine.sort_table_cells); for(let i = 0; i < tbody_length; i++){ tbody.appendChild(row_list[i]); } }; winmine.sort_table_cells = function(_a,_b) { let a = _a.cells[winmine.sort_table_col_idx]; let b = _b.cells[winmine.sort_table_col_idx]; a = ((a.hasAttribute('data-sort-value')) ? a.getAttribute('data-sort-value') : a.innerText); b = ((b.hasAttribute('data-sort-value')) ? b.getAttribute('data-sort-value') : b.innerText); a = a.replace(/\,/g, ''); b = b.replace(/\,/g, ''); if(winmine.sort_table_asc) { let temp = a; a = b; b = temp; } if(a.match(/^-?[0-9]\d*(\.\d+)?$/) && b.match(/^-?[0-9]\d*(\.\d+)?$/)) { return parseFloat(a) - parseFloat(b); } else { if (a < b) { return -1; } else if (a > b) { return 1; } else { return 0; } } };    winmine.localStorage_key_items = { 'result': 'w', 'board': '8x8/10', '3bv': '4', 'left_clicks': '2', 'multi_clicks': '1', 'right_clicks': '3', 'flags_used': '3', 'duration': '5.305', 'timestamp': '2021-04-15T14:35:57.299Z', 'name': 'Anonymous' }; winmine.localStorage_value_items = { 'mines': '["2_5","1_5","2_7","1_6","5_2","0_7","1_7","4_5","0_0","2_6"]', 'backup_mine': '0_1', 'action_replay': '[["0.0","l","0_6"],["0.3","l","3_6"],["0.5","l","4_4"],["0.7","l","3_2"],["2.0","f","5_2"],["2.9","f","4_5"],["3.4","m","3_5"],["3.8","f","2_5"],["4.7","f","1_5"],["5.3","m","0_5"]]' }; winmine.i = function(itemname, kv = 'key') { if(kv === 'key') { return(Object.keys(winmine.localStorage_key_items).indexOf(itemname)); } else { return(Object.keys(winmine.localStorage_value_items).indexOf(itemname)); } }; winmine.save_game_history = function() { let csv_content = 'data:text/csv;charset=utf-8,'; const header = Object.keys(winmine.localStorage_key_items).join(',') + ',' + Object.keys(winmine.localStorage_value_items).join(','); csv_content += header + '\r\n'; const select_element = document.getElementsByClassName('content-game-history-select')[0]; const winning_keys = (select_element.value == 'losses') ? winmine.localStorage.keys().filter(x => ['w|','l|'].includes(x.substring(0,2))) : winmine.localStorage.keys().filter(x => x.substring(0,2)==='w|'); winning_keys.forEach(function(key_name) { let key_items = key_name.split('|');  key_items = key_items.map(function(item) { return('\"' + item.replace(/"/g, '\"\"') + '\"'); }).join(','); let value_items = JSON.parse(winmine.localStorage.getItem(key_name));  value_items = value_items.map(function(item) { item = (typeof item === 'string') ? item : JSON.stringify(item); return('\"' + item.replace(/"/g, '\"\"') + '\"'); }).join(','); const row = key_items + ',' + value_items; csv_content += row + "\r\n"; }); const encoded_uri = encodeURI(csv_content); const link = document.createElement('a'); link.setAttribute('href', encoded_uri); link.setAttribute('download', 'winmine_history.csv'); document.body.appendChild(link); link.click(); };  winmine.read_csv = function(csv) { const arr = []; let in_quote = false; for(let row = 0, col = 0, c = 0; c < csv.length; c++) { const cc = csv[c]; const nc = csv[c+1]; arr[row] = arr[row] || []; arr[row][col] = arr[row][col] || ''; if(in_quote && cc == '"' && nc == '"') { arr[row][col] += cc; c++; continue; } if(cc == '"') { in_quote = !in_quote; continue; } if(!in_quote && cc == ',') { col++; continue; } if (!in_quote && cc == '\r' && nc == '\n') { col = 0; row++; c++; continue; } if (!in_quote && (cc == '\n' || cc == '\r')) { col = 0; row++; continue; } arr[row][col] += cc; } return(arr); }; winmine.import_game_history = function(csv) { const game_history = winmine.read_csv(csv); let header = game_history[0]; let not_header = game_history.slice(1);  header = header.map(function(x) { return x.toLowerCase().trim() });  const variables_in_key_name = Object.keys(winmine.localStorage_key_items); const variables_in_key_value = Object.keys(winmine.localStorage_value_items); const expected_column_names = variables_in_key_name.concat(variables_in_key_value); for(const column_name of expected_column_names) { if(!header.includes(column_name)) { alert('❌ Error with csv: column \'' + column_name + '\' not found. \n\nThe following columns must exist:\n' + expected_column_names.join(', ')); return; } }  for(const row of not_header) { const things_to_save = []; for(const column of expected_column_names) { things_to_save.push(row[header.indexOf(column)]); } const localStorage_key_things = things_to_save.slice(0, (variables_in_key_name.length)); const localStorage_item_things = things_to_save.slice(variables_in_key_name.length, expected_column_names.length).map(function(x) {  if(x.charAt(0) === '[') { return JSON.parse(x); } else { return x; } }); winmine.localStorage.setItem(localStorage_key_things.join('|'), JSON.stringify(localStorage_item_things)); }  document.querySelector('.content-game-history .content-escape-button').dispatchEvent(new Event('mouseup', { 'bubbles': true })); document.querySelector('[data-name="Game History"]').dispatchEvent(new Event('mouseup', { 'bubbles': true })); alert('✔️ ' + not_header.length + ' game records imported') }; winmine.fill_game_history_table = function(tbody, select_option_value) { tbody.textContent = '';  let hist = winmine.hist;  if(select_option_value.match(/x|\//g) != null) { hist = hist.filter(item => item[0] === 'w' & item[1] === select_option_value); } else if(select_option_value === 'all') { hist = hist.filter(item => item[0] === 'w'); } else if(select_option_value === 'losses') { hist = hist.filter(item => item[0] === 'l'); } if(hist.length === 0) { document.getElementsByClassName('content-game-history-no-history')[0].classList.add('content-game-history-no-history-enabled'); } else { document.getElementsByClassName('content-game-history-no-history')[0].classList.remove('content-game-history-no-history-enabled'); } for (let i = 0; i < hist.length; i++) { const h = hist[i];  const board = h[winmine.i('board')]; const _3bv = h[winmine.i('3bv')]; const clicks = parseInt(h[winmine.i('left_clicks')], 10) + parseInt(h[winmine.i('multi_clicks')], 10); const time = h[winmine.i('duration')]; const datetime = h[winmine.i('timestamp')]; tbody.insertRow(-1); const new_row = tbody.rows[i]; new_row.insertCell(0); new_row.cells[0].innerHTML = board; new_row.insertCell(1); new_row.cells[1].innerHTML = _3bv; new_row.cells[1].title = clicks + ' / ' + _3bv; new_row.insertCell(2); new_row.cells[2].innerHTML = parseFloat(time).toFixed(3); new_row.insertCell(3); new_row.cells[3].innerHTML = new Date(datetime).toLocaleDateString('en-US', { day: 'numeric', month: 'numeric', year: '2-digit', }); new_row.cells[3].title = new Date(datetime).toLocaleTimeString(); new_row.cells[3].setAttribute('data-sort-value', datetime); new_row.insertCell(4); new_row.cells[4].innerHTML = (_3bv / time).toFixed(2); new_row.insertCell(5); new_row.cells[5].innerHTML = (time / (_3bv / time)).toFixed(0); }  if(window.innerWidth < 230) {  document.querySelectorAll( '.content-game-history-table table thead tr:nth-child(1) th:nth-child(n+5),' + '.content-game-history-table table thead tr:nth-child(2) th,' + '.content-game-history-table table tbody tr td:nth-child(n+5)' ).forEach(function(x) { x.classList.add('display-none'); }); } if(window.innerWidth < 175) {  document.querySelectorAll('.content-game-history-table table thead tr:nth-child(1) th:nth-child(1)').forEach(function(x) { x.innerText = 'B'; x.title = 'Board'; }); document.querySelectorAll('.content-game-history-table table tbody tr td:nth-child(1)').forEach(function(x) { x.title = x.innerText; x.setAttribute('data-sort-value', x.innerText); x.innerText = '*'; }); } if(window.innerWidth < 164) { document.querySelectorAll('.content-game-history-table table tbody td').forEach(function(x) { x.style.padding = '3px'; }); } };  winmine.get_line = function(y0, x0, y1, x1) { const points = []; const dx = Math.abs(x1 - x0); const dy = Math.abs(y1 - y0); const sx = (x0 < x1) ? 1 : -1; const sy = (y0 < y1) ? 1 : -1; let err = dx - dy; while(true) { points.push([x0, y0]); if ((x0 === x1) && (y0 === y1)) break; const e2 = 2*err; if (e2 > -dy) { err -= dy; x0 += sx; } if (e2 < dx) { err += dx; y0 += sy; } } return(points); }; winmine.animate_cursor = function(cursor, start_sec, end_sec, start_y, start_x, end_y, end_x) {  const coordinates = winmine.get_line(start_y, start_x, end_y, end_x); let noise_coordinates = coordinates.map(function(coords, index) { return([  coords[0] + (((winmine.simplex.noise2D(0, index*1) + 1) / 2) * 3.5), coords[1] + (((winmine.simplex.noise2D(1, index*1) + 1) / 2) * 3.5) ]) }); noise_coordinates = noise_coordinates.filter((element, index) => {  if(index == 0 || index == noise_coordinates.length-1) { return true; }  return index % 8 === 0; }); const delay_ms = (end_sec*1000) - (start_sec*1000); const loop_length = noise_coordinates.length-1; const loop_interval_ms = Math.floor(delay_ms / loop_length); let loop_rolling_ms = 0; let loop_counter = 0; while (loop_counter < loop_length) { setTimeout(function(_loop_counter) { cursor.animate( [{ transform: 'translateY(' + noise_coordinates[_loop_counter][1] + 'px)' + ' translateX(' + noise_coordinates[_loop_counter][0] + 'px)' }, { transform: 'translateY(' + noise_coordinates[_loop_counter+1][1] + 'px)' + ' translateX(' + noise_coordinates[_loop_counter+1][0] + 'px)' }], { duration: loop_interval_ms, easing: 'linear', fill: 'forwards', }, ); }, loop_rolling_ms, loop_counter); loop_rolling_ms = loop_rolling_ms + loop_interval_ms; loop_counter++; } }; winmine.replay_game = function() { winmine.replay_action_idx = winmine.replay_action_idx || 0;  winmine.replay_setTimeout = [];  let replay_action_duration = 0;  winmine.simplex = winmine.simplex_open(Date.now());  for (let i = 0; i < winmine.replay_action_idx; i++) { replay_action_duration = replay_action_duration + (parseFloat(winmine.action_replay[i+1][0], 10) - parseFloat(winmine.action_replay[i][0], 10)); }  if(winmine.replay_action_idx === 0) { for(let i = 0; i < winmine.action_replay.length; i++) { if(winmine.action_replay[i][0] === '-1') { const elem = document.getElementById('cell_'+winmine.action_replay[i][2]); const coords = winmine.id_as_y_x(elem.id); if(winmine.action_replay[i][1] === 'f') { elem.classList.add('flag'); winmine.flagged_cells.push(winmine.action_replay[i][2]); if(winmine.cells[coords[0]][coords[1]] != 9) { winmine.cells[coords[0]][coords[1]] = 10; } } else if(winmine.action_replay[i][1] === 'q') { elem.classList.add('question'); winmine.marked_cells.push(winmine.action_replay[i][2]); if(winmine.cells[coords[0]][coords[1]] != 9) { winmine.cells[coords[0]][coords[1]] = winmine.get_neighbor_mine_freq(coords[0],coords[1]); } } } else { winmine.action_start_idx = i; break; } } winmine.pre_action_replay = winmine.action_replay.slice(0, winmine.action_start_idx); winmine.action_replay = winmine.action_replay.slice(winmine.action_start_idx); } const action_count = winmine.action_replay.length; const cursor = document.getElementsByClassName('replay-cursor')[0]; cursor.style.display = 'block'; let curr_y = undefined; let curr_x = undefined; let next_y = undefined; let next_x = undefined; for (let i = winmine.replay_action_idx; i < action_count; i++) { const action = winmine.action_replay[i]; const action_delay = (action[0]*1000) - (replay_action_duration*1000); const next_action = (i < action_count-1) ? winmine.action_replay[i+1] : action; const curr_cell = document.getElementById('cell_' + action[2]); const next_cell = document.getElementById('cell_' + next_action[2]); curr_y = (typeof(next_y)==='undefined') ? curr_cell.offsetTop + 0 : next_y; curr_x = (typeof(next_x)==='undefined') ? curr_cell.offsetLeft + 0 : next_x; next_y = next_cell.offsetTop + 0; next_x = next_cell.offsetLeft + 0; const timeout_id = setTimeout(function(_curr_y, _curr_x, _next_y, _next_x) { if(action[1] == 'l') { curr_cell.dispatchEvent(new CustomEvent('mousedown', { 'bubbles': true , 'detail': { 'button0': true } })); curr_cell.dispatchEvent(new CustomEvent('mouseup', { 'bubbles': true , 'detail': { 'button0': true } })); } else if(action[1] == 'm') { curr_cell.dispatchEvent(new CustomEvent('mousedown', { 'bubbles': true , 'detail': { 'button0': true, 'button2': true } })); curr_cell.dispatchEvent(new CustomEvent('mouseup', { 'bubbles': true , 'detail': { 'button0': true, 'button2': true } })); } else if(['f','q','c'].includes(action[1])) { curr_cell.dispatchEvent(new CustomEvent('mousedown', { 'bubbles': true , 'detail': { 'button2': true } })); curr_cell.dispatchEvent(new CustomEvent('mouseup', { 'bubbles': true , 'detail': { 'button2': true } })); } winmine.replay_action_idx = winmine.replay_action_idx + 1; if(i < action_count) { winmine.animate_cursor(cursor, action[0], next_action[0], _curr_y, _curr_x, _next_y, _next_x); } }, action_delay, curr_y, curr_x, next_y, next_x); winmine.replay_setTimeout.push(timeout_id); } }; winmine.go_to_replay_mode = function(autoplay) {  const complete_action_replay = (typeof(winmine.pre_action_replay) !== 'undefined' && winmine.pre_action_replay.length !== 0) ? winmine.pre_action_replay.concat(winmine.action_replay) : winmine.action_replay; const action_replay = (winmine.replay_mode) ? complete_action_replay : winmine.game_clicks; window.location = window.location.href.split(/[?#]/)[0] + '?height=' + winmine.height + '&width=' + winmine.width + '&mines=' + winmine.mine_count + '&board_mines=' + JSON.stringify(winmine.mines) + '&board_backup_mine=' + winmine.backup_y + '_' + winmine.backup_x + '&time=' + winmine.game_duration + '&action_replay=' + JSON.stringify(action_replay) + '&autoplay=' + autoplay.toString(); }; winmine.update_game_over_menu = function() { document.getElementsByClassName('is-prev-game-menu-frame')[0].classList.remove('is-prev-game-menu-frame-enabled'); document.getElementsByClassName('replay-menu-frame')[0].classList.add('replay-menu-frame-enabled'); const is_small_board = (window.innerWidth < 164) ? true : false; if(is_small_board) { document.getElementsByClassName('menu-opener-frame')[0].classList.add('menu-opener-frame-enabled'); document.getElementsByClassName('replay-menu-frame')[0].classList.remove('replay-menu-frame-enabled'); } }; winmine.select_menu_item = function(event) { if(event.target.classList.contains('menu-item-disabled')) { return; }  for (let value of document.getElementsByClassName('feature-content')) { const div_children = value.children; for (let item of div_children) { item.classList.forEach(function(c) { if(c.includes('-enabled')) { item.classList.remove(c); } }); } } document.getElementsByClassName('feature-content-frame')[0].classList.remove('feature-content-enabled'); const item_text = event.target.getAttribute('data-name'); if(item_text === 'New') { window.location = window.location.href.split(/[?#]/)[0] + '?height=' + winmine.height + '&width=' + winmine.width + '&mines=' + winmine.mine_count; } else if(item_text === 'Beginner') { const new_window_salt = winmine.random(100000,999999); window.open('?height='+winmine.setting.beginner[0]+'&width='+winmine.setting.beginner[1]+'&mines='+winmine.setting.beginner[2], 'Beginner' + '_' + new_window_salt, 'width='+((winmine.setting.beginner[1] *winmine.setting.x_px)+20)+',height='+((winmine.setting.beginner[0] *winmine.setting.y_px)+83)+',top=' + (window.screenY+50) + ',left=' + (window.screenX+50)); } else if(item_text === 'Intermediate') { const new_window_salt = winmine.random(100000,999999); window.open('?height=16&width=16&mines=40', 'Intermediate' + '_' + new_window_salt, 'width='+((16*winmine.setting.y_px)+20)+',height='+((16*winmine.setting.y_px)+83)+',top=' + (window.screenY+50) + ',left=' + (window.screenX+50)); } else if(item_text === 'Expert') { const new_window_salt = winmine.random(100000,999999); window.open('?height=16&width=30&mines=99', 'Expert' + '_' + new_window_salt, 'width='+((30*winmine.setting.y_px)+20)+',height='+((16*winmine.setting.y_px)+83)+',top=' + (window.screenY+50) + ',left=' + (window.screenX+50)); } else if(item_text === 'Custom...') { event.target.parentNode.classList.remove('menu-container-top'); document.getElementsByClassName('feature-content-frame')[0].classList.add('feature-content-enabled'); document.getElementsByClassName('content-custom-game')[0].classList.add('content-custom-game-enabled'); document.getElementsByClassName('custom-game-field')[0].value = winmine.setting.custom_field[0]; document.getElementsByClassName('custom-game-field')[1].value = winmine.setting.custom_field[1]; document.getElementsByClassName('custom-game-field')[2].value = winmine.setting.custom_field[2]; } else if(item_text === 'Marks (?)') { if(event.target.classList.contains('menu-mark')) { event.target.classList.remove('menu-mark'); winmine.localStorage.setItem('setting_marks', 'false'); winmine.setting.marks = false; winmine.marked_cells.forEach(function(item) { document.getElementById('cell_'+item).classList.remove('question'); }); winmine.marked_cells = []; } else { event.target.classList.add('menu-mark'); winmine.localStorage.setItem('setting_marks', 'true'); winmine.setting.marks = true; } } else if(item_text === 'Color') { if(event.target.classList.contains('menu-mark')) { event.target.classList.remove('menu-mark'); document.documentElement.style.setProperty('filter', 'grayscale(100%)'); winmine.localStorage.setItem('setting_color', 'false'); winmine.color = false; } else { event.target.classList.add('menu-mark'); document.documentElement.style.removeProperty('filter'); winmine.localStorage.setItem('setting_color', 'true'); winmine.color = true; } } else if(item_text === 'Best Times...') { const classic_best_times_row_html = function(saved_key_names, difficulty) { let difficulty_config = ''; if(difficulty === 'beginner') { difficulty_config = winmine.setting.beginner2; } if(difficulty === 'intermediate') { difficulty_config = '16x16/40'; } if(difficulty === 'expert') { difficulty_config = '16x30/99'; } let best_times_cleared_on = winmine.localStorage.getItem('setting_best_times_cleared_on'); best_times_cleared_on = (best_times_cleared_on === null) ? Date.parse('1990-01-01') : Date.parse(best_times_cleared_on); let result = saved_key_names.filter(function(item) { item = item.split('|'); return item[winmine.i('result')] == 'w' & item[winmine.i('board')] == difficulty_config; }) .filter(function(item) { return Date.parse(item.split('|')[winmine.i('timestamp')]) > best_times_cleared_on; }); const best_time_idx = Math.min.apply(null, result.map(function(x){return x.split('|')[winmine.i('duration')]; })).toFixed(3); result = result[result.findIndex(x => x.split('|')[winmine.i('duration')] === best_time_idx)]; const empty_result = Object.keys(winmine.localStorage_key_items); empty_result[winmine.i('duration')] = 999; empty_result[winmine.i('name')] = 'Anonymous'; result = (typeof(result)=='undefined') ? empty_result : result.split('|'); const record_difficulty = difficulty.charAt(0).toUpperCase() + difficulty.slice(1)+':'; const record_score = (window.innerWidth > 175) ? Math.round(result[winmine.i('duration')]) + ' seconds' : Math.round(result[winmine.i('duration')]); const record_name = (window.innerWidth < 175 && result[winmine.i('name')].length > 6) ? result[winmine.i('name')].substring(0,5) + '..' : result[winmine.i('name')]; return('<div>' + record_difficulty + '</div><div title=\"'+result[winmine.i('duration')]+' seconds\">' + record_score + '</div><div title=\"'+result[winmine.i('name')]+'\">' + record_name + '</div>'); }; event.target.parentNode.classList.remove('menu-container-top'); document.getElementsByClassName('feature-content-frame')[0].classList.add('feature-content-enabled'); document.getElementsByClassName('content-best-times')[0].classList.add('content-best-times-enabled'); const keys_to_search = winmine.localStorage.keys(); const table = document.getElementsByClassName('content-best-times-table')[0]; table.innerHTML = classic_best_times_row_html(keys_to_search, 'beginner') + classic_best_times_row_html(keys_to_search, 'intermediate') + classic_best_times_row_html(keys_to_search, 'expert'); } else if(item_text === 'Exit') { window.close(); } else if(item_text === 'Contents') { event.target.parentNode.classList.remove('menu-container-top'); document.getElementsByClassName('feature-content-frame')[0].classList.add('feature-content-enabled'); document.getElementsByClassName('content-help-contents')[0].classList.add('content-help-contents-enabled'); } else if(item_text === 'About Minesweeper...') { event.target.parentNode.classList.remove('menu-container-top'); document.getElementsByClassName('feature-content-frame')[0].classList.add('feature-content-enabled'); document.getElementsByClassName('content-about')[0].classList.add('content-about-enabled'); } else if(item_text === 'Extra Menu*') { const extra_menu = document.getElementsByClassName('extra-menu-frame')[0]; const extra_replay_menu = document.getElementsByClassName('extra-replay-menu-frame')[0]; if(event.target.classList.contains('menu-mark')) { extra_menu.classList.remove('display-inline-block'); extra_replay_menu.classList.remove('display-inline-block'); event.target.classList.remove('menu-mark'); winmine.localStorage.setItem('setting_extra_menu', 'false'); } else { extra_menu.classList.add('display-inline-block'); extra_replay_menu.classList.add('display-inline-block'); event.target.classList.add('menu-mark'); winmine.localStorage.setItem('setting_extra_menu', 'true'); } } else if(item_text === 'Game History') { document.getElementsByClassName('feature-content-frame')[0].classList.add('feature-content-enabled'); document.getElementsByClassName('content-game-history')[0].classList.add('content-game-history-enabled'); document.getElementsByClassName('content-game-history-delete')[0].classList.remove('content-game-history-delete-enabled'); document.getElementsByClassName('content-game-history-no-history')[0].classList.remove('content-game-history-no-history-enabled'); const winning_keys = winmine.localStorage.keys().filter(x => ['w|','l|'].includes(x.substring(0,2)));  winmine.history_needs_refreshing = (typeof(winmine.history_needs_refreshing)!='undefined') ? winmine.history_needs_refreshing : false; if(winning_keys.length === winmine.hist.length & !winmine.history_needs_refreshing) { if(winning_keys.length === 0) { document.getElementsByClassName('content-game-history-no-history')[0].classList.add('content-game-history-no-history-enabled'); } return; } else { winmine.hist = []; winmine.history_needs_refreshing = false; } const hist_datetimes = []; winning_keys.forEach(function(item, index) { winmine.hist.push(index); const new_item = item.split('|'); winmine.hist[index] = new_item; hist_datetimes.push(new_item[8]); }); const unique_boards = []; winmine.hist.filter(x => x[0]==='w').forEach(function(item) { if(!unique_boards.includes(item[1])) { unique_boards.push(item[1]); }}); const select_element = document.getElementsByClassName('content-game-history-select')[0]; select_element[0].value = winmine.setting.beginner2; select_element[0].innerText = winmine.setting.beginner2 + '\xa0\xa0\xa0\xa0Beg'; Array.from(select_element.children).forEach(function(item) { if(item.classList.contains('select-option-is-new')) { item.remove(); } }); if(unique_boards.length > 0) { select_element.options.add(new Option('─────────────', '')); select_element.options[select_element.options.length-1].disabled = true; select_element.options[select_element.options.length-1].classList.add('select-option-is-new'); unique_boards.forEach(function(item) { if(item === undefined) { return; } if(![winmine.setting.beginner2,'16x16/40','16x30/99'].includes(item)) { select_element.options.add(new Option(item, item)); select_element.options[select_element.options.length-1].classList.add('select-option-is-new'); } }); } const sorted = hist_datetimes.slice().sort(function(a, b) { return new Date(a) - new Date(b); }); const recent_games_datetimes = sorted.slice(-8); const recent_games = winmine.hist.filter(i => recent_games_datetimes.includes(i[8])); const recent_games_boards = []; recent_games.forEach(function(item) { recent_games_boards.push(item[1]); }); const recent_board = winmine.get_most_common_item_in_array(recent_games_boards); select_element.value = (unique_boards.length == 0) ? 'losses' : recent_board; select_element.dispatchEvent(new Event('change')); } else if(item_text === 'Settings') { event.target.parentNode.classList.remove('menu-container-top'); document.getElementsByClassName('feature-content-frame')[0].classList.add('feature-content-enabled'); document.getElementsByClassName('content-settings')[0].classList.add('content-settings-enabled'); const show_saving_notification = function() { const alert_div = document.createElement('div'); alert_div.innerText = 'Saving...'; alert_div.classList.add('content-settings-save-notification'); const alert_div_wrap = document.createElement('div'); alert_div_wrap.prepend(alert_div); document.getElementsByClassName('content-settings')[0].prepend(alert_div_wrap); setTimeout(function() { alert_div.classList.add('content-settings-save-notification-transitioned'); }, 1);  setTimeout(function() { alert_div_wrap.parentNode.removeChild(alert_div_wrap); }, 2000);  };  document.getElementById(winmine.setting.beginner[0] + 'x' + winmine.setting.beginner[1] + '/' + winmine.setting.beginner[2]).checked = true; const on_change_setting_beginner_board_size = function(new_val) { show_saving_notification(); const save_value = (['8,8,10','9,9,10'].includes(new_val)) ? new_val : winmine.setting.beginner.join(','); winmine.localStorage.setItem('setting_beginner_board', save_value); winmine.setting.beginner = save_value.split(','); winmine.setting.beginner2 = winmine.setting.beginner[0] + 'x' + winmine.setting.beginner[1] + '/' + winmine.setting.beginner[2]; winmine.history_needs_refreshing = true; }; document.getElementById('8x8/10').addEventListener('change', function(e) { on_change_setting_beginner_board_size(e.target.value); }); document.getElementById('9x9/10').addEventListener('change', function(e) { on_change_setting_beginner_board_size(e.target.value); });  const setting_cell_y_elem = document.getElementsByClassName('content-settings-cell-size-input')[0]; setting_cell_y_elem.value = winmine.setting.y_px; const on_change_setting_cell_y = function(new_val) { show_saving_notification(); const save_value = ([...Array(128).keys()].slice(4).map(String).includes(new_val)) ? new_val : '16'; winmine.localStorage.setItem('setting_cell_size_height', save_value); winmine.setting.y_px = save_value; }; setting_cell_y_elem.addEventListener('change', function(e) { on_change_setting_cell_y(e.target.value) }); setting_cell_y_elem.addEventListener('keyup' , function(e) { on_change_setting_cell_y(e.target.value) });  const setting_cell_x_elem = document.getElementsByClassName('content-settings-cell-size-input')[1]; setting_cell_x_elem.value = winmine.setting.x_px; const on_change_setting_cell_x = function(new_val) { show_saving_notification(); const save_value = ([...Array(128).keys()].slice(4).map(String).includes(new_val)) ? new_val : '16'; winmine.localStorage.setItem('setting_cell_size_width', save_value); winmine.setting.x_px = save_value; }; setting_cell_x_elem.addEventListener('change', function(e) { on_change_setting_cell_x(e.target.value) }); setting_cell_x_elem.addEventListener('keyup' , function(e) { on_change_setting_cell_x(e.target.value) });  const setting_name_elem = document.getElementsByClassName('content-settings-default-name-input')[0]; setting_name_elem.value = winmine.setting.player_name; const on_change_setting_player_name = function(new_val) { show_saving_notification(); let save_value = new_val.trim().substring(0,36); save_value = (save_value == '') ? 'Anonymous' : save_value; winmine.localStorage.setItem('setting_player_name', save_value); winmine.setting.player_name = save_value; }; setting_name_elem.addEventListener('change', function(e) { on_change_setting_player_name(e.target.value) }); setting_name_elem.addEventListener('keyup' , function(e) { on_change_setting_player_name(e.target.value) });  const setting_url_elem = document.getElementsByClassName('content-settings-api-url')[0]; setting_url_elem.value = winmine.setting.api_url; const on_change_setting_api_url = function(new_val) { show_saving_notification(); let save_value = new_val.trim().substring(0,36); winmine.localStorage.setItem('setting_api_url', save_value); winmine.setting.api_url = save_value; }; setting_url_elem.addEventListener('change', function(e) { on_change_setting_api_url(e.target.value) }); setting_url_elem.addEventListener('keyup' , function(e) { on_change_setting_api_url(e.target.value) }); } };  document.addEventListener('DOMContentLoaded', function() { winmine.load_user_settings(); winmine.load_board_settings(); winmine.create_mine_field(); winmine.set_3bv(); winmine.insert_seven_segment_elements(); winmine.init_counter(winmine.mine_count); winmine.init_timer(); winmine.set_file_menu_item_marks(); winmine.cleared = 0;  winmine.flagged_cells = [];  winmine.marked_cells = [];  winmine.game_clicks = [];  winmine.game_over = false;  winmine.hist = [];  winmine.game_started = false;  winmine.most_recent_id = '';   document.getElementsByClassName('file-menu')[0].addEventListener('mouseup', function(event) { if(event.target.classList.contains('menu-item')) { winmine.select_menu_item(event); } });  const cell_container = document.getElementsByClassName('cell-container')[0]; cell_container.addEventListener('mouseover', function(event) { if(winmine.game_over) { return; } if(winmine.mouse_is_down && winmine.mouse2_is_down) { const coords = winmine.id_as_y_x(event.target.id); const neighboring_cells = winmine.get_array_of_neighbor_ids(coords[0], coords[1]); document.querySelectorAll('#cell_' + neighboring_cells.join(':not(.flag):not(.clear),#cell_') + ':not(.flag):not(.clear)').forEach(function (element) { element.classList.add('active'); }); if(!event.target.classList.contains('flag')) { event.target.classList.add('active'); } } if(event.target.classList.contains('flag')) { return; } if(event.target.classList.contains('question')) { return; } if(winmine.mouse_is_down && !winmine.multi_cell) { event.target.classList.add('active'); } }); cell_container.addEventListener('mouseout', function(event) { if(winmine.game_over) { return; } if(winmine.mouse_is_down && winmine.mouse2_is_down) { const coords = winmine.id_as_y_x(event.target.id); const neighboring_cells = winmine.get_array_of_neighbor_ids(coords[0], coords[1]); document.querySelectorAll('#cell_' + neighboring_cells.join(',#cell_')).forEach(function (element) { element.classList.remove('active'); }); } if(event.target.classList.contains('flag')) { return; } if(event.target.classList.contains('question')) { return; } event.target.classList.remove('active'); }); cell_container.addEventListener('mousedown', function(event) { if(winmine.game_over) { return; } if(event.button === 0 || event.detail.button0) { winmine.mouse_is_down = true; } if(event.button === 2 || event.detail.button2) { winmine.mouse2_is_down = true; } if(winmine.mouse_is_down && winmine.mouse2_is_down) { const coords = winmine.id_as_y_x(event.target.id); const neighboring_cells = winmine.get_array_of_neighbor_ids(coords[0], coords[1]); document.querySelectorAll('#cell_' + neighboring_cells.join(':not(.flag):not(.clear),#cell_') + ':not(.flag):not(.clear)').forEach(function (element) { element.classList.add('active'); }); if(!event.target.classList.contains('flag')) { event.target.classList.add('active'); } winmine.multi_cell = true; } if(winmine.mouse2_is_down) { if(winmine.mouse_is_down) { return; } if(event.target.classList.contains('clear')) { return; } winmine.flag_cell(event.target.id); return; } if(event.target.classList.contains('flag')) { return; } if(event.target.classList.contains('question')) { return; } if(!event.target.classList.contains('clear')) { event.target.classList.add('active'); } }); cell_container.addEventListener('mouseup', function(event) { if(winmine.game_over) { return; } if(!winmine.mouse_is_down & !winmine.mouse2_is_down) { return; }  if(event.button === 0 || event.detail.button0) { winmine.mouse_is_down = false; } if(event.button === 2 || event.detail.button2) { winmine.mouse2_is_down = false; } const elem_id = event.target.id; if(winmine.multi_cell) { if(event.target.classList.length >= 2) { const coords = winmine.id_as_y_x(elem_id); const neighboring_cells = winmine.get_array_of_neighbor_ids(coords[0], coords[1]); const flagged_neighboring_cells = []; document.querySelectorAll('#cell_' + neighboring_cells.join(',#cell_')).forEach(function (element) { if(element.classList.contains('flag')) { flagged_neighboring_cells.push(element.id.substring(5)); } element.classList.remove('active'); }); if(flagged_neighboring_cells.length == event.target.classList[1].substring(1) && elem_id !== winmine.most_recent_id) { winmine.most_recent_id = elem_id;  winmine.game_clicks.push([winmine.get_game_duration(1), 'm', elem_id.substring(5)]); let clicked = 0; const cells_to_consider = neighboring_cells.filter(x => !flagged_neighboring_cells.includes(x)); cells_to_consider.forEach(function (element) { const e = document.getElementById('cell_'+element); if(e.classList.contains('clear')) { return; } clicked = clicked + 1; winmine.choose_cell('cell_'+element); e.classList.remove('question');  });  if(clicked == 0) { winmine.game_clicks.pop(); } } } else { const coords = winmine.id_as_y_x(elem_id); const neighboring_cells = winmine.get_array_of_neighbor_ids(coords[0], coords[1]); document.querySelectorAll('#cell_' + neighboring_cells.join(',#cell_')).forEach(function (element) { element.classList.remove('active'); }); } event.target.classList.remove('active'); if(!winmine.mouse_is_down && !winmine.mouse2_is_down) { winmine.multi_cell = false; } return; } if(event.button === 2 || event.detail.button2) { return; } if(event.target.classList.contains('flag')) { return; } if(event.target.classList.contains('question')) { return; } if(event.target.classList.contains('clear')) { return; } event.target.classList.remove('active'); if(winmine.game_started) { winmine.game_clicks.push([winmine.get_game_duration(1), 'l', elem_id.substring(5)]); } else { winmine.game_clicks.push(['0.0', 'l', elem_id.substring(5)]); } winmine.choose_cell(elem_id); });  const smiley_frame = document.getElementsByClassName('smiley-container')[0]; smiley_frame.addEventListener('mousedown', function(e) { smiley_frame.classList.add('smiley-container-mousedown'); smiley_frame.classList.add('face-neutral'); winmine.mouse_is_down_smiley = true; }); smiley_frame.addEventListener('mouseup', function(e) { if(winmine.mouse_is_down_smiley) { window.location = '?height=' + winmine.height + '&width=' + winmine.width + '&mines=' + winmine.mine_count; } }); smiley_frame.addEventListener('mouseover', function(e) { if(winmine.mouse_is_down_smiley) { smiley_frame.classList.add('smiley-container-mousedown'); smiley_frame.classList.add('face-neutral'); } }); smiley_frame.addEventListener('mouseout', function(e) { smiley_frame.classList.remove('smiley-container-mousedown'); smiley_frame.classList.remove('face-neutral'); if(smiley_frame.classList.contains('face-cursor-down')) { return; } if(winmine.game_over) { if(winmine.game_win) { smiley_frame.classList.add('face-game-win'); } else { smiley_frame.classList.add('face-game-over'); } } else { smiley_frame.classList.add('face-neutral'); } });   document.body.addEventListener('contextmenu', function(event) { if(event.target.nodeName === 'A') { return; } event.preventDefault(); }); document.body.addEventListener('mousedown', function(event) { if(!['INPUT','SELECT'].includes(event.target.nodeName)) { event.preventDefault();  } if(event.button === 2 && !winmine.multi_cell) { return; } if(winmine.replay_mode) { return; } if(winmine.game_over === false && !event.target.classList.contains('smiley-container')) { smiley_frame.classList.remove('face-neutral'); smiley_frame.classList.add('face-cursor-down'); } });  document.body.addEventListener('mouseleave', function(event) { if(event.button === 2) { return; } if(winmine.game_over) { return; } winmine.mouse_is_down = false; smiley_frame.classList.remove('face-cursor-down'); smiley_frame.classList.add('face-neutral'); }); document.body.addEventListener('mouseup', function(event) { if(event.button === 2 && !winmine.multi_cell) { return; } if(event.button === 0) { winmine.mouse_is_down = false; winmine.mouse_is_down_smiley = false; } if(winmine.game_over === false) { smiley_frame.classList.remove('face-cursor-down'); smiley_frame.classList.add('face-neutral'); } });  document.getElementsByClassName('file-menu-frame')[0].addEventListener('mouseover', function() {  const file_menu = document.querySelectorAll('.menu-game-container, .menu-help-container, .menu-extra-container'); for(const item of file_menu) { item.classList.add('menu-container-top'); } }); document.querySelector('.content-custom-game-buttons > button:nth-child(1)').addEventListener('mouseup', function() { let height = parseInt(document.getElementsByClassName('custom-game-field')[0].value, 10); let width = parseInt(document.getElementsByClassName('custom-game-field')[1].value, 10); let mines = parseInt(document.getElementsByClassName('custom-game-field')[2].value, 10); if(height < 4) { height = 4; } if(width < 4) { width = 4; } if(height > 999) { height = 999; } if(width > 999) { width = 999; } if(mines < 1) { mines = 1 } if(mines > ((height*width)-1)) { mines = (height*width)-1; } winmine.localStorage.setItem('setting_custom_field', JSON.stringify([height, width, mines])); const new_window_salt = winmine.random(100000,999999); const window_width = (width*winmine.setting.x_px)+20; const window_height = (height*winmine.setting.y_px)+83; window.open('?height=' + height + '&width=' + width + '&mines=' + mines, 'Custom' + '_' + new_window_salt, 'width=' + window_width + ',height=' + window_height + ',top=' + (window.screenY+50) + ',left=' + (window.screenX+50)); document.getElementsByClassName('feature-content-frame')[0].classList.remove('feature-content-enabled'); document.getElementsByClassName('content-custom-game')[0].classList.remove('content-custom-game-enabled'); }); document.querySelector('.content-custom-game-buttons > button:nth-child(2)').addEventListener('mouseup', function() { document.getElementsByClassName('feature-content-frame')[0].classList.remove('feature-content-enabled'); document.getElementsByClassName('content-custom-game')[0].classList.remove('content-custom-game-enabled'); }); document.querySelector('.content-best-times-buttons > div > button:nth-child(2)').addEventListener('mouseup', function() { document.getElementsByClassName('feature-content-frame')[0].classList.remove('feature-content-enabled'); document.getElementsByClassName('content-best-times')[0].classList.remove('content-best-times-enabled'); }); document.querySelector('.content-best-times-buttons > div > button:nth-child(1)').addEventListener('mouseup', function() { document.getElementsByClassName('feature-content-frame')[0].classList.remove('feature-content-enabled'); document.getElementsByClassName('content-best-times')[0].classList.remove('content-best-times-enabled'); winmine.localStorage.setItem('setting_best_times_cleared_on', new Date(Date.now()).toISOString()); document.querySelector('[data-name=\'Best Times...\']').dispatchEvent(new Event('mouseup', { 'bubbles': true })); }); document.querySelector('.content-best-time-game-buttons > button').addEventListener('mouseup', function() { const username = document.querySelector('.content-best-time-game-input > input').value; winmine.save_record_name(username); document.getElementsByClassName('feature-content-frame')[0].classList.remove('feature-content-enabled'); document.getElementsByClassName('content-best-time-game')[0].classList.remove('content-best-time-game-enabled'); }); document.querySelector('.content-best-time-game-input > input').addEventListener('keyup', event => { if (event.key == 'Enter') { best_time_game_ok_button.dispatchEvent(new Event('mouseup')); } }); document.getElementsByClassName('content-game-history-table')[0].addEventListener('contextmenu', function(event) { const selected_row = event.target.parentNode; if(selected_row.cells[3].hasAttribute('data-sort-value')) { selected_row.classList.add('content-game-history-context-row-enabled'); winmine.game_history_table_context_row = selected_row;  const context = document.getElementsByClassName('content-game-history-context')[0]; const primary_key_timestamp = selected_row.cells[3].getAttribute('data-sort-value'); const key = winmine.hist.filter(function(x) { return primary_key_timestamp == x[winmine.i('timestamp')]; })[0]; const key_name = key.join('|'); const item_value = JSON.parse(winmine.localStorage.getItem(key_name)); const height = key[winmine.i('board')].split('x')[0]; const width = key[winmine.i('board')].split('x')[1].split('/')[0]; const mine_count = key[1].split('x')[1].split('/')[1]; const play_again_url = '?height=' + height + '&width=' + width + '&mines=' + mine_count + '&board_mines=' + JSON.stringify(item_value[winmine.i('mines', 'v')]) + '&board_backup_mine=' + item_value[winmine.i('backup_mine', 'v')]; const watch_replay_url = play_again_url + '&time=' + key[winmine.i('duration')] + '&action_replay=' + JSON.stringify(item_value[winmine.i('action_replay', 'v')]); context.children[0].setAttribute('data-action-url', play_again_url); context.children[1].setAttribute('data-action-url', watch_replay_url); context.classList.add('content-game-history-context-enabled'); const feature_content_frame = document.getElementsByClassName('feature-content-frame')[0]; const scroll_y_offset = feature_content_frame.scrollTop - 14; const click_near_bottom_offset = ((feature_content_frame.clientHeight - event.clientY) < 50) ? -50 : 0; const click_near_right_offset = ((feature_content_frame.clientWidth - event.clientX) < 80) ? -80 : 0; context.style.left = (event.clientX + click_near_right_offset) + 'px'; context.style.top = (event.clientY + scroll_y_offset + click_near_bottom_offset) + 'px'; } }); document.getElementsByClassName('content-game-history-table')[0].addEventListener('mouseup', function(event) { if(typeof winmine.game_history_table_context_row !== 'undefined') { document.getElementsByClassName('content-game-history-context')[0].classList.remove('content-game-history-context-enabled'); winmine.game_history_table_context_row.classList.remove('content-game-history-context-row-enabled'); delete winmine.game_history_table_context_row; } }); const table_column_style_toggle = function(add_or_remove, row_idx, col_idx) { const row_range = 24;  const row_count = game_history_tbody.rows.length; const search_min = ((row_idx - row_range) < 0) ? 0 : row_idx - row_range; const search_max = ((row_idx + row_range) > row_count) ? row_count : row_idx + row_range; for (let i = search_min; i < search_max; i++) { game_history_tbody.rows[i].cells[col_idx].classList[add_or_remove]('col-hover'); } }; const game_history_tbody = document.querySelector('.content-game-history-table > table > tbody'); game_history_tbody.addEventListener('mouseover', function(event) { if(event.target.nodeName === 'TD') { table_column_style_toggle("add", event.target.parentNode.rowIndex, event.target.cellIndex) } }); game_history_tbody.addEventListener('mouseout', function(event) { if(event.target.nodeName === 'TD') { table_column_style_toggle("remove", event.target.parentNode.rowIndex, event.target.cellIndex) } }); document.querySelector('.content-game-history-table > table > thead').addEventListener('mouseup', function(event) { if(event.target.getAttribute('scope') === 'col') { const cell_idx_derived = (event.target.rowSpan == 1) ? (event.target.cellIndex + 4) : event.target.cellIndex; winmine.sort_table(document.querySelector('.content-game-history-table > table > tbody'), cell_idx_derived); const previous_sorted = document.querySelector('.content-game-history-table > table > thead th.sort-asc-icon, .content-game-history-table > table > thead th.sort-desc-icon'); if(previous_sorted != null) { previous_sorted.classList.remove('sort-asc-icon'); previous_sorted.classList.remove('sort-desc-icon'); } if(winmine.sort_table_asc) { event.target.classList.add('sort-desc-icon'); } else { event.target.classList.add('sort-asc-icon'); } } }); document.getElementsByClassName('content-game-history-select')[0].addEventListener('change', function(event) { const history_table_tbody = document.querySelector('.content-game-history-table > table > tbody'); winmine.fill_game_history_table(history_table_tbody, event.target.value); winmine.sort_table_asc = false; const table_th_column_date = document.querySelector('.content-game-history-table > table > thead th:nth-child(4)'); table_th_column_date.dispatchEvent(new Event('mouseup', { 'bubbles': true })); }); document.getElementsByClassName("game-history-import-input")[0].addEventListener("change", function() { if (this.files.length === 0) { return; } const reader = new FileReader(); reader.onload = function fileReadCompleted() { winmine.import_game_history(reader.result); }; reader.readAsText(this.files[0]); }); document.getElementsByClassName('content-game-history-icons-wrap')[0].addEventListener('mouseup', function(event) { const item_text = event.target.getAttribute('data-game-history-action'); if(item_text === 'game-history-save') { winmine.save_game_history(); } else if(item_text === 'game-history-import') { const file_elem = document.getElementsByClassName('game-history-import-input')[0]; if(file_elem) { file_elem.click(); } } else if(item_text === 'game-history-delete') { document.getElementsByClassName('content-game-history-delete')[0].classList.add('content-game-history-delete-enabled'); const select_option_board_value = document.getElementsByClassName('content-game-history-select')[0].selectedOptions[0].value; document.querySelector('.content-game-history-delete div[data-game-delete-action="game-delete-board"] span span').textContent = select_option_board_value; } }); document.getElementsByClassName('content-game-history-delete')[0].addEventListener('mouseup', function(event) { const item_text = event.target.parentNode.getAttribute('data-game-delete-action') || event.target.parentNode.parentNode.getAttribute('data-game-delete-action'); if(item_text === 'game-delete-cancel') { document.getElementsByClassName('content-game-history-delete')[0].classList.remove('content-game-history-delete-enabled'); } else if(item_text === "game-delete-board") { const target_board = document.querySelector('.content-game-history-delete div[data-game-delete-action="game-delete-board"] span span').textContent; const keys_to_delete = winmine.localStorage.keys().filter(function(x) { return x.split('|')[1] === target_board }); for(const key_name of keys_to_delete) { winmine.localStorage.removeItem(key_name); } document.querySelector('.content-game-history .content-escape-button').dispatchEvent(new Event('mouseup', { 'bubbles': true })); document.querySelector('[data-name="Game History"]').dispatchEvent(new Event('mouseup', { 'bubbles': true })); } else if(item_text === 'game-delete-every-board') { const keys_to_delete = winmine.localStorage.keys().filter(function(x) { return ['w|','l|'].includes(x.substring(0,2)); }); for(const key_name of keys_to_delete) { winmine.localStorage.removeItem(key_name); } winmine.hist = []; document.querySelector('.content-game-history .content-escape-button').dispatchEvent(new Event('mouseup', { 'bubbles': true })); document.querySelector('[data-name="Game History"]').dispatchEvent(new Event('mouseup', { 'bubbles': true })); document.getElementsByClassName('content-game-history-select')[0].selectedIndex = 0; document.querySelectorAll('.content-game-history-select option').forEach(function(e, i) { if(i > 7) { e.parentNode.removeChild(e) } }); } }); document.getElementsByClassName('content-help-contents-toc')[0].addEventListener('mouseup', function(event) { const item_text = event.target.getAttribute('data-class-toggle'); if(item_text === null) { return; } const toggle_item = document.getElementsByClassName(item_text)[0]; document.querySelectorAll('.content-help-contents-toc > div').forEach(function(item){ item.classList.remove('text-decoration-underline'); item.classList.add('text-decoration-none'); }); event.target.classList.remove('text-decoration-none'); event.target.classList.add('text-decoration-underline'); document.querySelectorAll('.content-help-contents-body > div').forEach(function(item){ item.classList.remove('display-block'); item.classList.add('display-none'); }); toggle_item.classList.remove('display-none'); toggle_item.classList.add('display-block'); }); document.querySelector('.replay-menu-item[data-replay-menu="play-pause-button"]').addEventListener('dblclick', function (event) { winmine.go_to_replay_mode(true); }); document.getElementsByClassName('replay-menu-container')[0].addEventListener('mouseup', function(event) { const action_name = event.target.getAttribute('data-replay-menu') || event.target.parentNode.getAttribute('data-replay-menu'); if(action_name === 'play-pause-button') { if(!winmine.replay_mode) { winmine.go_to_replay_mode(true); return; } if(winmine.game_over) { return; } const play_pause = document.querySelector('.replay-menu-item[data-replay-menu="play-pause-button"]'); if(winmine.replay_pause) { winmine.replay_game(); play_pause.childNodes[0].classList.remove('color-red'); play_pause.childNodes[1].classList.add('color-red'); play_pause.title = 'Pause (double-click to restart)';  if(typeof(winmine.replay_pause_time) !== 'undefined') { winmine.start_timer_worker(winmine.replay_pause_time); } } else { if(typeof(winmine.replay_setTimeout) !== 'undefined') { winmine.replay_setTimeout.forEach(function(item) { clearTimeout(item); }); } play_pause.childNodes[0].classList.add('color-red'); play_pause.childNodes[1].classList.remove('color-red'); play_pause.title = 'Play (double-click to restart)';  if(typeof(winmine.timer_worker) !== 'undefined') {  winmine.replay_pause_time = parseFloat((winmine.action_replay[winmine.replay_action_idx][0]) + 1).toFixed(3); winmine.timer_worker.terminate(); } } winmine.replay_pause = (winmine.replay_pause) ? false : true; } else if(action_name === 'play-again-button') { const play_again_url = '?height=' + winmine.height + '&width=' + winmine.width + '&mines=' + winmine.mine_count + '&board_mines=' + JSON.stringify(winmine.mines) + '&board_backup_mine=' + winmine.backup_y + '_' + winmine.backup_x; window.location = play_again_url; } else if(action_name === 'stats-button') { const game_stats_elem = document.getElementsByClassName('game-over-stats-frame')[0]; const stats_tbody = document.querySelector('.game-over-stats > table > tbody'); if(winmine.display_game_stats || false) { winmine.display_game_stats = false; game_stats_elem.classList.remove('game-over-stats-enabled'); stats_tbody.innerText = ''; return; } winmine.display_game_stats = true; game_stats_elem.classList.add('game-over-stats-enabled'); const board_label = function(board) { if(board == winmine.setting.beginner2) { return 'Beg.'; } else if(board == '16x16/40') { return 'Int.'; } else if(board == '16x30/99') { return 'Exp.'; } else return board; }; const result_label = (winmine.game_win) ? 'Win' : 'Loss'; const duration = (winmine.game_over) ? parseFloat(winmine.game_duration) : parseFloat(winmine.get_game_duration(3)); const stats = { 'Result': (winmine.game_over) ? result_label : '-', 'Board': board_label('' + winmine.height + 'x' + winmine.width + '/' + winmine.mine_count), 'Time': duration, '3BV': winmine._3bv, '3BV/s': (winmine._3bv / duration).toFixed(2), 'RQP': (duration / (winmine._3bv / duration)).toFixed(0), 'Flags used': winmine.flagged_cells.length, 'Clicks': winmine.game_clicks.length, 'Left clicks': winmine.game_clicks.filter(x => ['l'].includes(x[1])).length, 'Multi clicks': winmine.game_clicks.filter(x => ['m'].includes(x[1])).length, 'Right clicks': winmine.game_clicks.filter(x => ['f','q','c'].includes(x[1])).length }; const stats_keys = Object.keys(stats); for(var i = 0; i < stats_keys.length;i++) { stats_tbody.insertRow(-1); const new_row = stats_tbody.rows[i]; new_row.insertCell(0); new_row.cells[0].innerHTML = stats_keys[i]; new_row.insertCell(1); new_row.cells[1].innerHTML = stats[stats_keys[i]]; } winmine.remove_game_stats = function(e) { if(['TABLE','TBODY','TR','TD'].includes(e.target.nodeName)) { return; } winmine.display_game_stats = false; game_stats_elem.classList.remove('game-over-stats-enabled'); stats_tbody.innerText = ''; }; game_stats_elem.addEventListener('mouseleave', winmine.remove_game_stats); } }); document.getElementsByClassName('is-prev-game-menu-item')[0].addEventListener('mouseup', function(event) { const action_name = event.target.getAttribute('data-is-prev-game-menu'); if(action_name === 'try-again-button') { window.location.reload(); } }); document.getElementsByClassName('content-game-history-context')[0].addEventListener('mouseup', function(event) { if(event.target.hasAttribute('data-action-url')) { const new_window_url = event.target.getAttribute('data-action-url'); const width = new_window_url.match(/width=(.*?)&/)[1]; const height = new_window_url.match(/height=(.*?)&/)[1]; const window_width = (width*winmine.setting.x_px)+20; const window_height = (height*winmine.setting.y_px)+83; const new_window_salt = winmine.random(100000,999999); window.open(new_window_url, 'Replay' + '_' + new_window_salt, 'width= ' + window_width + ',height=' + window_height + ',top=' + (window.screenY+50) + ',left=' + (window.screenX+50)); document.getElementsByClassName('content-game-history-context')[0].classList.remove('content-game-history-context-enabled'); winmine.game_history_table_context_row.classList.remove('content-game-history-context-row-enabled'); } });  document.getElementsByClassName('feature-content-frame')[0].addEventListener('mouseup', function(event) { const feature_content_frame = document.getElementsByClassName('feature-content-frame')[0]; if(event.target.classList.contains('content-escape-button')) { feature_content_frame.classList.remove('feature-content-enabled'); const parent_classes = event.target.parentNode.parentNode.classList; parent_classes.forEach(function(c) { if(c.includes('-enabled')) { parent_classes.remove(c); } }); } });   if(winmine.replay_mode & winmine.replay_autoplay) { document.querySelector('[data-replay-menu="play-pause-button"]').dispatchEvent(new Event('mouseup', { 'bubbles': true })); } });</script>
	<link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3C%3Fxml version='1.0' encoding='utf-8' %3F%3E %3Csvg baseProfile='full' version='1.1' height='16px' width='16px' xmlns='http://www.w3.org/2000/svg' xmlns:ev='http://www.w3.org/2001/xml-events' xmlns:xlink='http://www.w3.org/1999/xlink'%3E %3Cstyle type='text/css' %3E %3C!%5BCDATA%5B rect %7B height: 1px; width: 1px; %7D %5D%5D%3E %3C/style%3E %3Cdefs /%3E %3Crect fill='rgb(232,227,240)' x='7px' y='0px' /%3E %3Crect fill='rgb(166,158,206)' x='8px' y='0px' /%3E %3Crect fill='rgb(80,76,164)' x='2px' y='1px' /%3E %3Crect fill='rgb(162,160,205)' x='3px' y='1px' /%3E %3Crect fill='rgb(233,231,240)' x='5px' y='1px' /%3E %3Crect fill='rgb(215,211,231)' x='6px' y='1px' /%3E %3Crect fill='rgb(169,158,205)' x='7px' y='1px' /%3E %3Crect fill='rgb(80,76,164)' x='8px' y='1px' /%3E %3Crect fill='rgb(124,116,181)' x='9px' y='1px' /%3E %3Crect fill='rgb(157,148,197)' x='10px' y='1px' /%3E %3Crect fill='rgb(82,75,164)' x='12px' y='1px' /%3E %3Crect fill='rgb(100,91,170)' x='13px' y='1px' /%3E %3Crect fill='rgb(125,115,182)' x='2px' y='2px' /%3E %3Crect fill='rgb(80,76,164)' x='3px' y='2px' /%3E %3Crect fill='rgb(235,233,242)' x='4px' y='2px' /%3E %3Crect fill='rgb(243,241,246)' x='5px' y='2px' /%3E %3Crect fill='rgb(239,238,245)' x='6px' y='2px' /%3E %3Crect fill='rgb(180,170,211)' x='7px' y='2px' /%3E %3Crect fill='rgb(65,61,157)' x='8px' y='2px' /%3E %3Crect fill='rgb(46,53,145)' x='9px' y='2px' /%3E %3Crect fill='rgb(141,132,188)' x='10px' y='2px' /%3E %3Crect fill='rgb(124,114,181)' x='11px' y='2px' /%3E %3Crect fill='rgb(100,91,170)' x='12px' y='2px' /%3E %3Crect fill='rgb(26,34,139)' x='13px' y='2px' /%3E %3Crect fill='rgb(100,91,170)' x='14px' y='2px' /%3E %3Crect fill='rgb(125,115,182)' x='2px' y='3px' /%3E %3Crect fill='rgb(225,222,236)' x='3px' y='3px' /%3E %3Crect fill='rgb(243,241,246)' x='4px' y='3px' /%3E %3Crect fill='rgb(251,251,252)' x='5px' y='3px' /%3E %3Crect fill='rgb(240,238,244)' x='6px' y='3px' /%3E %3Crect fill='rgb(200,194,221)' x='7px' y='3px' /%3E %3Crect fill='rgb(152,148,198)' x='8px' y='3px' /%3E %3Crect fill='rgb(184,176,211)' x='9px' y='3px' /%3E %3Crect fill='rgb(152,142,194)' x='10px' y='3px' /%3E %3Crect fill='rgb(124,114,181)' x='11px' y='3px' /%3E %3Crect fill='rgb(103,94,172)' x='12px' y='3px' /%3E %3Crect fill='rgb(56,60,156)' x='13px' y='3px' /%3E %3Crect fill='rgb(206,202,223)' x='2px' y='4px' /%3E %3Crect fill='rgb(219,215,231)' x='3px' y='4px' /%3E %3Crect fill='rgb(233,231,241)' x='4px' y='4px' /%3E %3Crect fill='rgb(239,237,243)' x='5px' y='4px' /%3E %3Crect fill='rgb(233,230,240)' x='6px' y='4px' /%3E %3Crect fill='rgb(218,214,230)' x='7px' y='4px' /%3E %3Crect fill='rgb(204,199,221)' x='8px' y='4px' /%3E %3Crect fill='rgb(172,163,204)' x='9px' y='4px' /%3E %3Crect fill='rgb(149,140,193)' x='10px' y='4px' /%3E %3Crect fill='rgb(124,114,181)' x='11px' y='4px' /%3E %3Crect fill='rgb(102,92,171)' x='12px' y='4px' /%3E %3Crect fill='rgb(82,75,164)' x='13px' y='4px' /%3E %3Crect fill='rgb(204,198,224)' x='1px' y='5px' /%3E %3Crect fill='rgb(196,190,217)' x='2px' y='5px' /%3E %3Crect fill='rgb(211,206,226)' x='3px' y='5px' /%3E %3Crect fill='rgb(219,215,231)' x='4px' y='5px' /%3E %3Crect fill='rgb(222,218,233)' x='5px' y='5px' /%3E %3Crect fill='rgb(217,213,229)' x='6px' y='5px' /%3E %3Crect fill='rgb(208,204,225)' x='7px' y='5px' /%3E %3Crect fill='rgb(191,185,215)' x='8px' y='5px' /%3E %3Crect fill='rgb(161,152,199)' x='9px' y='5px' /%3E %3Crect fill='rgb(140,131,189)' x='10px' y='5px' /%3E %3Crect fill='rgb(121,111,179)' x='11px' y='5px' /%3E %3Crect fill='rgb(94,85,168)' x='12px' y='5px' /%3E %3Crect fill='rgb(82,75,164)' x='13px' y='5px' /%3E %3Crect fill='rgb(82,75,164)' x='14px' y='5px' /%3E %3Crect fill='rgb(171,163,206)' x='1px' y='6px' /%3E %3Crect fill='rgb(190,183,215)' x='2px' y='6px' /%3E %3Crect fill='rgb(195,189,218)' x='3px' y='6px' /%3E %3Crect fill='rgb(206,200,222)' x='4px' y='6px' /%3E %3Crect fill='rgb(207,201,222)' x='5px' y='6px' /%3E %3Crect fill='rgb(204,199,221)' x='6px' y='6px' /%3E %3Crect fill='rgb(178,169,208)' x='7px' y='6px' /%3E %3Crect fill='rgb(146,137,192)' x='8px' y='6px' /%3E %3Crect fill='rgb(152,142,194)' x='9px' y='6px' /%3E %3Crect fill='rgb(126,117,183)' x='10px' y='6px' /%3E %3Crect fill='rgb(110,100,175)' x='11px' y='6px' /%3E %3Crect fill='rgb(93,86,169)' x='12px' y='6px' /%3E %3Crect fill='rgb(82,75,164)' x='13px' y='6px' /%3E %3Crect fill='rgb(82,75,164)' x='14px' y='6px' /%3E %3Crect fill='rgb(199,191,222)' x='0px' y='7px' /%3E %3Crect fill='rgb(123,114,184)' x='1px' y='7px' /%3E %3Crect fill='rgb(126,116,184)' x='2px' y='7px' /%3E %3Crect fill='rgb(147,139,194)' x='3px' y='7px' /%3E %3Crect fill='rgb(174,166,206)' x='4px' y='7px' /%3E %3Crect fill='rgb(184,176,211)' x='5px' y='7px' /%3E %3Crect fill='rgb(164,155,201)' x='6px' y='7px' /%3E %3Crect fill='rgb(205,197,224)' x='7px' y='7px' /%3E %3Crect fill='rgb(100,94,172)' x='8px' y='7px' /%3E %3Crect fill='rgb(95,93,171)' x='9px' y='7px' /%3E %3Crect fill='rgb(118,109,179)' x='10px' y='7px' /%3E %3Crect fill='rgb(97,87,169)' x='11px' y='7px' /%3E %3Crect fill='rgb(82,75,164)' x='12px' y='7px' /%3E %3Crect fill='rgb(82,75,164)' x='13px' y='7px' /%3E %3Crect fill='rgb(82,75,164)' x='14px' y='7px' /%3E %3Crect fill='rgb(39,42,146)' x='15px' y='7px' /%3E %3Crect fill='rgb(98,96,174)' x='0px' y='8px' /%3E %3Crect fill='rgb(46,49,149)' x='1px' y='8px' /%3E %3Crect fill='rgb(52,50,152)' x='2px' y='8px' /%3E %3Crect fill='rgb(79,77,163)' x='3px' y='8px' /%3E %3Crect fill='rgb(152,142,194)' x='4px' y='8px' /%3E %3Crect fill='rgb(152,142,194)' x='5px' y='8px' /%3E %3Crect fill='rgb(141,132,190)' x='6px' y='8px' /%3E %3Crect fill='rgb(90,85,168)' x='7px' y='8px' /%3E %3Crect fill='rgb(43,46,147)' x='8px' y='8px' /%3E %3Crect fill='rgb(32,38,141)' x='9px' y='8px' /%3E %3Crect fill='rgb(99,89,170)' x='10px' y='8px' /%3E %3Crect fill='rgb(76,69,161)' x='11px' y='8px' /%3E %3Crect fill='rgb(60,55,154)' x='12px' y='8px' /%3E %3Crect fill='rgb(55,52,153)' x='13px' y='8px' /%3E %3Crect fill='rgb(26,32,139)' x='14px' y='8px' /%3E %3Crect fill='rgb(88,98,171)' x='15px' y='8px' /%3E %3Crect fill='rgb(100,91,170)' x='1px' y='9px' /%3E %3Crect fill='rgb(43,43,146)' x='2px' y='9px' /%3E %3Crect fill='rgb(45,45,148)' x='3px' y='9px' /%3E %3Crect fill='rgb(124,114,181)' x='4px' y='9px' /%3E %3Crect fill='rgb(124,114,181)' x='5px' y='9px' /%3E %3Crect fill='rgb(124,114,181)' x='6px' y='9px' /%3E %3Crect fill='rgb(84,78,164)' x='7px' y='9px' /%3E %3Crect fill='rgb(39,39,145)' x='8px' y='9px' /%3E %3Crect fill='rgb(39,39,145)' x='9px' y='9px' /%3E %3Crect fill='rgb(63,58,156)' x='10px' y='9px' /%3E %3Crect fill='rgb(61,56,155)' x='11px' y='9px' /%3E %3Crect fill='rgb(46,44,147)' x='12px' y='9px' /%3E %3Crect fill='rgb(30,34,139)' x='13px' y='9px' /%3E %3Crect fill='rgb(30,34,139)' x='14px' y='9px' /%3E %3Crect fill='rgb(74,67,160)' x='2px' y='10px' /%3E %3Crect fill='rgb(71,64,160)' x='3px' y='10px' /%3E %3Crect fill='rgb(97,87,169)' x='4px' y='10px' /%3E %3Crect fill='rgb(97,87,169)' x='5px' y='10px' /%3E %3Crect fill='rgb(97,87,169)' x='6px' y='10px' /%3E %3Crect fill='rgb(94,85,168)' x='7px' y='10px' /%3E %3Crect fill='rgb(68,62,159)' x='8px' y='10px' /%3E %3Crect fill='rgb(62,57,156)' x='9px' y='10px' /%3E %3Crect fill='rgb(60,55,154)' x='10px' y='10px' /%3E %3Crect fill='rgb(47,45,148)' x='11px' y='10px' /%3E %3Crect fill='rgb(31,35,140)' x='12px' y='10px' /%3E %3Crect fill='rgb(25,32,137)' x='13px' y='10px' /%3E %3Crect fill='rgb(30,34,139)' x='14px' y='10px' /%3E %3Crect fill='rgb(62,57,156)' x='2px' y='11px' /%3E %3Crect fill='rgb(62,57,156)' x='3px' y='11px' /%3E %3Crect fill='rgb(71,64,160)' x='4px' y='11px' /%3E %3Crect fill='rgb(71,64,160)' x='5px' y='11px' /%3E %3Crect fill='rgb(68,62,159)' x='6px' y='11px' /%3E %3Crect fill='rgb(62,57,156)' x='7px' y='11px' /%3E %3Crect fill='rgb(60,55,154)' x='8px' y='11px' /%3E %3Crect fill='rgb(53,49,151)' x='9px' y='11px' /%3E %3Crect fill='rgb(39,39,145)' x='10px' y='11px' /%3E %3Crect fill='rgb(29,34,140)' x='11px' y='11px' /%3E %3Crect fill='rgb(25,32,137)' x='12px' y='11px' /%3E %3Crect fill='rgb(41,53,147)' x='13px' y='11px' /%3E %3Crect fill='rgb(98,93,171)' x='2px' y='12px' /%3E %3Crect fill='rgb(43,43,147)' x='3px' y='12px' /%3E %3Crect fill='rgb(50,47,150)' x='4px' y='12px' /%3E %3Crect fill='rgb(50,47,150)' x='5px' y='12px' /%3E %3Crect fill='rgb(50,47,150)' x='6px' y='12px' /%3E %3Crect fill='rgb(65,61,157)' x='7px' y='12px' /%3E %3Crect fill='rgb(63,58,155)' x='8px' y='12px' /%3E %3Crect fill='rgb(32,35,140)' x='9px' y='12px' /%3E %3Crect fill='rgb(28,33,139)' x='10px' y='12px' /%3E %3Crect fill='rgb(19,28,135)' x='11px' y='12px' /%3E %3Crect fill='rgb(9,23,131)' x='12px' y='12px' /%3E %3Crect fill='rgb(40,48,146)' x='13px' y='12px' /%3E %3Crect fill='rgb(16,38,136)' x='2px' y='13px' /%3E %3Crect fill='rgb(16,38,136)' x='3px' y='13px' /%3E %3Crect fill='rgb(11,25,131)' x='4px' y='13px' /%3E %3Crect fill='rgb(28,33,139)' x='5px' y='13px' /%3E %3Crect fill='rgb(49,52,148)' x='6px' y='13px' /%3E %3Crect fill='rgb(85,89,168)' x='7px' y='13px' /%3E %3Crect fill='rgb(65,61,157)' x='8px' y='13px' /%3E %3Crect fill='rgb(20,28,136)' x='9px' y='13px' /%3E %3Crect fill='rgb(11,25,131)' x='10px' y='13px' /%3E %3Crect fill='rgb(11,25,131)' x='11px' y='13px' /%3E %3Crect fill='rgb(40,48,146)' x='12px' y='13px' /%3E %3Crect fill='rgb(32,43,141)' x='13px' y='13px' /%3E %3Crect fill='rgb(85,89,168)' x='6px' y='14px' /%3E %3Crect fill='rgb(158,148,198)' x='7px' y='14px' /%3E %3Crect fill='rgb(69,64,158)' x='8px' y='14px' /%3E %3Crect fill='rgb(30,34,139)' x='9px' y='14px' /%3E %3Crect fill='rgb(85,89,168)' x='7px' y='15px' /%3E %3Crect fill='rgb(85,89,168)' x='8px' y='15px' /%3E %3C/svg%3E"/>
</head>
<body>
	<div class="file-menu-frame">
		<div class="file-menu">
			<div class="game-file-menu-frame">
				<div class="menu-game-button">Game</div>
				<div class="menu-game-container">
					<div class="menu-item" data-name="New">New<div>F5</div></div>
					<div class="menu-item-separator"></div>
					<div class="menu-item" data-name="Beginner">Beginner</div>
					<div class="menu-item" data-name="Intermediate">Intermediate</div>
					<div class="menu-item" data-name="Expert">Expert</div>
					<div class="menu-item" data-name="Custom...">Custom...</div>
					<div class="menu-item-separator"></div>
					<div class="menu-item" data-name="Marks (?)">Marks (?)</div>
					<div class="menu-item" data-name="Color">Color</div>
					<div class="menu-item menu-item-disabled" data-name="Sound">Sound</div>
					<div class="menu-item-separator"></div>
					<div class="menu-item" data-name="Best Times...">Best Times...</div>
					<div class="menu-item-separator"></div>
					<div class="menu-item" data-name="Exit">Exit</div>
				</div>
			</div>
			<div class="help-file-menu-frame">
				<div class="menu-help-button">Help</div>
				<div class="menu-help-container">
					<div class="menu-item" data-name="Contents">Contents</div>
					<div class="menu-item-separator"></div>
					<div class="menu-item" data-name="About Minesweeper...">About Minesweeper...</div>
					<div class="menu-item-separator"></div>
					<div class="menu-item" data-name="Extra Menu*">Extra Menu*</div>
				</div>
			</div>
			<div class="extra-menu-frame">
				<div class="menu-extra-button">Extra</div>
				<div class="menu-extra-container">
					<div class="menu-item" data-name="Game History">Game History</div>
					<div class="menu-item-separator"></div>
					<div class="menu-item" data-name="Settings">Settings</div>
				</div>
			</div>
			<div class="extra-replay-menu-frame">
				<div class="menu-opener-frame">
					<div class="menu-opener-item">≡</div>
				</div>
				<div class="replay-menu-frame">
					<div class="replay-menu-container">
						<div class="replay-menu-item" data-replay-menu="play-pause-button" title="Play"><span class="color-red">ǁ</span><span>►</span></div>
						<div class="replay-menu-item" data-replay-menu="play-again-button" title="Replay board">🖱️</div>
						<div class="replay-menu-item" data-replay-menu="stats-button" title="View stats">%</div>
					</div>
				</div>
				<div class="is-prev-game-menu-frame">
					<div class="is-prev-game-menu-container">
						<div class="is-prev-game-menu-item" data-is-prev-game-menu="try-again-button" title="Try again">⟳</div>
					</div>
				</div>
			</div>
			<div class="game-over-stats-frame">
				<div class="game-over-stats">
					<table aria-describedby="game stats">
						<tbody></tbody>
					</table>					
				</div>
			</div>
			<div class="feature-content-frame">
				<div class="feature-content">
					<div class="content-custom-game">
						<div class="content-custom-game-header">Custom Field</div>
						<div class="content-custom-game-settings">
							<div>
								<div>Height:</div><div><input type="number" min="4" max="999" class="custom-game-field"></div>
								<div>Width:</div><div><input type="number" min="4" max="999" class="custom-game-field"></div>
								<div>Mines:</div><div><input type="number" min="1" max="9999" class="custom-game-field"></div>
							</div>
						</div>
						<div class="content-custom-game-buttons"><button>OK</button><button>Cancel</button></div>
					</div>
					<div class="content-best-times">
						<div class="content-best-times-header">Fastest Mine Sweepers</div>
						<div class="content-best-times-table-container"><div class="content-best-times-table"></div></div>
						<div class="content-best-times-buttons">
							<div><button>Reset Scores</button><button>OK</button></div>
						</div>
					</div>
					<div class="content-best-time-game">
						<div class="content-best-time-game-header"></div>
						<div class="content-best-time-game-input"><input type="text" value="Anonymous"></div>
						<div class="content-best-time-game-buttons">
							<button>OK</button>
						</div>
					</div>
					<div class="content-about">
						<div class="content-escape-button-wrap"><div class="content-escape-button">x</div></div>
						<div class="content-about-header">About Minesweeper</div>
						<div class="content-about-icon-section"></div>
						<div class="content-about-text-section">Microsoft ® Minesweeper <br>Version 5.2 <br>Copyright © 1985-2005 Microsoft Corporation <br>by Robert Donner and Curt Johnson <br><br><br><br><hr>This clone of the iconic Windows Minesweeper game is free art created by <a href="https://anthonyfucci.com">Anthony Fucci</a></div>
					</div>
					<div class="content-help-contents">
						<div class="content-escape-button-wrap"><div class="content-escape-button">x</div></div>
						<div class="content-help-contents-toc">
							<div>📖 Minesweeper</div>
							<div data-class-toggle="content-help-minesweeper-overview" class="text-decoration-underline">📄 Minesweeper overview</div>
							<div data-class-toggle="content-help-to-play-minesweeper">❔ Play Minesweeper</div>
							<div data-class-toggle="content-help-to-customize">❔ Customize the playing field</div>
							<div data-class-toggle="content-help-strategies">📄 Strategies and tips</div>
						</div>
						<div class="content-help-contents-body">
							<div class="content-help-minesweeper-overview"><div>Minesweeper overview</div><div>The object of Minesweeper is to locate all the mines as quickly as possible without uncovering any of them. If you uncover a mine, you lose the game.</div></div>
							<div class="content-help-to-play-minesweeper display-none"><div>To play Minesweeper</div><div><ol><li>On the <strong>Game</strong> menu, click <strong>New</strong>.</li><li>To start the timer, click any square on the playing field.</li></ol><br>🗒 <strong>Notes</strong><br><ul><li>You can uncover a square by clicking it. If you uncover a mine, you lose the game.</li><li>If a number appears on a square, it indicates how many mines are in the eight squares that surround the numbered one.</li><li>To mark a square you suspect contains a mine, right-click it.</li><li>The game area consists of the playing field, a mine counter, and a timer.</li></ul></div></div>
							<div class="content-help-to-customize display-none"><div>To customize the playing field</div><div><ol><li>On the <strong>Game</strong> menu, click <strong>Custom</strong>.</li><li>Customize the size of the field by specifying the number of squares to display vertically and horizontally, and specify the number of mines to place on the field.</li></ol></div></div>
							<div class="content-help-strategies display-none"><div>Strategies and tips</div><div><ul><li>If you are uncertain about a square, right-click it twice to mark it with a question mark (?). Later, you can either mark the square as a mine or remove the markings by right-clicking the square again once or twice.</li><li>If you have marked all the mines around a numbered square, you can uncover the remaining squares around it by clicking the numbered square with the left and right mouse buttons simultaneously. If not all mines surrounding the numbered square have been marked, the remaining covered or unmarked squares will appear to be depressed (or flash) when the numbered square is clicked with both buttons simultaneously.</li><li>Look for common patters in numbers, which often indicate a corresponding pattern of mines. For example, the pattern 2-3-2 at the edge of a group of uncovered squares indicates a row of three mines next to the three numbers.</li></ul></div></div>
						</div>
					</div>
					<div class="content-game-history">
						<div class="content-escape-button-wrap"><div class="content-escape-button">x</div></div>
						<div class="content-game-history-header">
							<div class="content-game-history-header-select-label">Game History</div>
							<select class="content-game-history-select">
								<option value="8x8/10">8x8/10 &nbsp;&nbsp;&nbsp;Beg</option>
								<option value="16x16/40">16x16/40 &nbsp;Int</option>
								<option value="16x30/99">16x30/99 &nbsp;Exp</option>
								<option disabled="disabled">─────────────</option>
								<option value="losses">Recent Losses</option>
								<option disabled="disabled">─────────────</option>
								<option value="all">All Boards</option>
							</select>
							<div class="content-game-history-icons-wrap">
								<div data-game-history-action="game-history-save" title="Save game history to csv">🖫</div>
								<input type="file" accept=".csv" class="game-history-import-input">
								<div data-game-history-action="game-history-import" title="Import game history from csv">🗁</div>
								<div data-game-history-action="game-history-delete" title="Delete game history">🗑</div>
							</div>
						</div>
						<div class="content-game-history-delete">
							<div data-game-delete-action="game-delete-cancel"><span>Cancel</span></div>
							<div data-game-delete-action="game-delete-board"><span>Delete every <span></span> game</span></div>
							<div data-game-delete-action="game-delete-every-board"><span>*Delete all board game history</span></div>
						</div>
						<div class="content-game-history-context">
							<div>🎮 Play it again</div>
							<div>🎥 Watch it back</div>
						</div>
						<div class="content-game-history-no-history">No game data available</div>
						<div class="content-game-history-table">
							<table aria-describedby="game history">
								<thead>
									<tr>
										<th scope="col" rowspan="2">Board</th>
										<th scope="col" rowspan="2">3BV</th>
										<th scope="col" rowspan="2">Time</th>
										<th scope="col" rowspan="2">Date</th>
										<th scope="colgroup" colspan="2">Performance</th>
									</tr>
									<tr>
										<th scope="col">3BV/s</th>
										<th scope="col">RQP</th>
									</tr>
								</thead>
								<tbody></tbody>
							</table>
						</div>
					</div>
					<div class="content-settings">
						<div class="content-escape-button-wrap"><div class="content-escape-button">x</div></div>
						<div class="content-settings-header">Settings</div>
						<div class="content-settings-item-separator"></div>
						<div class="content-settings-item-label">Beginner Board Size</div>
						<div class="content-settings-item-body">
							<div>
								<input type="radio" id="8x8/10" name="board" value="8,8,10">
								<label for="8x8/10" title="default">8x8</label>
							</div>
							<div>
								<input type="radio" id="9x9/10" name="board" value="9,9,10">
								<label for="9x9/10">9x9</label>
							</div>
						</div>
						<div class="content-settings-item-separator"></div>
						<div class="content-settings-item-label">Cell Size</div>
						<div class="content-settings-item-body content-settings-cell-size">
							<div><div title="16px is the default">Height:</div><div><input type="number" min="4" max="99" placeholder="16" class="content-settings-cell-size-input"> px</div></div>
							<div><div title="16px is the default">Width:</div><div><input type="number" min="4" max="99" placeholder="16" class="content-settings-cell-size-input"> px</div></div>
						</div>
						<div class="content-settings-item-separator"></div>
						<div class="content-settings-item-label" title="Default name to save with games">Player Name</div>
						<div class="content-settings-item-body">
							<div><input type="text" placeholder="Anonymous" class="content-settings-default-name-input"></div>
						</div>
						<div class="content-settings-item-separator"></div>
						<div class="content-settings-item-label" title="">Public API</div>
						<div class="content-settings-item-body">
							<div><input type="text" placeholder="ex: minesweeper.win/api" class="content-settings-api-url" title="URL of web api accepting game history data. Clear the field to disable. URLs are forced https unless localhost."></div>
						</div>
						<br><br>
						<div class="content-settings-item-separator"></div>
						<div>
							Is there a setting or feature you want to see? <a href="https://github.com/areasoft/winmine.html">This project is public.</a>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div class="game-window-frame">
		<div class="window-frame-top">
			<div class="scoreboard-frame">
				<div class="scoreboard">
					<div class="scoreboard-content">
						<div class="scoreboard-content-left">
							<div class="scoreboard-digits-container">
								<div id="counter0" class="scoreboard-digit-panel"></div>
								<div id="counter1" class="scoreboard-digit-panel"></div>
								<div id="counter2" class="scoreboard-digit-panel"></div>
							</div>
						</div>
						<div class="scoreboard-content-middle">
							<div class="smiley-frame">
								<div class="smiley-container face-neutral"></div>
							</div>
						</div>
						<div class="scoreboard-content-right">
							<div class="scoreboard-digits-container">
								<div id="timer0" class="scoreboard-digit-panel"></div>
								<div id="timer1" class="scoreboard-digit-panel"></div>
								<div id="timer2" class="scoreboard-digit-panel"></div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="window-frame-bottom">
			<div class="cell-container-frame">
				<div class="cell-container"></div>
			</div>
		</div>
	</div>
</body>
</html>